(()=>{var e={};e.id=3821,e.ids=[3821],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},80675:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.ZP,__next_app__:()=>u,originalPathname:()=>c,pages:()=>l,routeModule:()=>g,tree:()=>d});var t=s(50482),n=s(69108),a=s(83543),i=s(68300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(r,o);let d=["",{children:["debug-jobs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,44618)),"/Users/sayuri/caddonworks/src/app/debug-jobs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,61623)),"/Users/sayuri/caddonworks/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/Users/sayuri/caddonworks/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,48206)),"/Users/sayuri/caddonworks/src/app/not-found.tsx"]}],l=["/Users/sayuri/caddonworks/src/app/debug-jobs/page.tsx"],c="/debug-jobs/page",u={require:s,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/debug-jobs/page",pathname:"/debug-jobs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73917:(e,r,s)=>{Promise.resolve().then(s.bind(s,21001))},21001:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(95344),n=s(3729),a=s(43750),i=s(18704),o=s(23673),d=s(5094);function l(){let{user:e,userProfile:r,userRole:s,userOrganization:l,loading:c}=(0,a.useAuth)(),[u,g]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[p,b]=(0,n.useState)(!1),m=async()=>{b(!0),h(null);try{console.log("Debug: 案件データ取得開始");let{data:{session:e},error:r}=await i.OQ.auth.getSession();if(console.log("Debug: セッション取得結果:",{hasSession:!!e,userId:e?.user?.id,error:r?.message}),r||!e){h("セッションが見つかりません: "+(r?.message||"セッションなし"));return}let s=await fetch("/api/jobs",{headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"}});console.log("Debug: APIレスポンス:",{status:s.status,statusText:s.statusText});let t=await s.json();console.log("Debug: API結果:",t),s.ok?g(t):h(t.message||"APIエラー")}catch(e){console.error("Debug: エラー:",e),h("ネットワークエラー: "+e.message)}finally{b(!1)}};return(0,n.useEffect)(()=>{!c&&r&&s&&m()},[c,r,s]),t.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[t.jsx("h1",{className:"text-3xl font-bold mb-8",children:"案件一覧デバッグ"}),(0,t.jsxs)(o.Zb,{className:"mb-6",children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{children:"認証状態"})}),t.jsx(o.aY,{children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"Loading:"})," ",c?"true":"false"]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"User:"})," ",e?"あり":"なし"]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"User ID:"})," ",e?.id||"なし"]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"User Email:"})," ",e?.email||"なし"]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"User Profile:"})," ",r?"あり":"なし"]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"User Role:"})," ",s||"なし"]}),(0,t.jsxs)("div",{children:[t.jsx("strong",{children:"User Organization:"})," ",l?l.name:"なし"]})]})})]}),(0,t.jsxs)(o.Zb,{className:"mb-6",children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{children:"案件データ"})}),t.jsx(o.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(d.z,{onClick:m,disabled:p,children:p?"読み込み中...":"案件データを取得"}),x&&(0,t.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-red-800",children:"エラー"}),t.jsx("p",{className:"text-red-700",children:x})]}),u&&(0,t.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800",children:"成功"}),(0,t.jsxs)("p",{className:"text-green-700",children:["案件数: ",u.jobs?.length||0]}),t.jsx("pre",{className:"mt-2 text-xs bg-white p-2 rounded border overflow-auto max-h-96",children:JSON.stringify(u,null,2)})]})]})})]}),(0,t.jsxs)(o.Zb,{children:[t.jsx(o.Ol,{children:t.jsx(o.ll,{children:"ナビゲーション"})}),t.jsx(o.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("a",{href:"/jobs",className:"block text-blue-600 hover:underline",children:"案件一覧ページ"}),t.jsx("a",{href:"/auth/login",className:"block text-blue-600 hover:underline",children:"ログインページ"}),t.jsx("a",{href:"/debug-auth",className:"block text-blue-600 hover:underline",children:"認証デバッグページ"})]})})]})]})})}},5094:(e,r,s)=>{"use strict";s.d(r,{z:()=>l});var t=s(95344),n=s(3729),a=s(45877),i=s(49247),o=s(11453);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",engineering:"bg-engineering-blue text-white shadow-lg hover:bg-engineering-blue-dark hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",gradient:"gradient-engineering text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",glass:"glass text-gray-900 hover:bg-white/20 border-white/30"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:r,size:s,asChild:n=!1,...i},l)=>{let c=n?a.g7:"button";return t.jsx(c,{className:(0,o.cn)(d({variant:r,size:s,className:e})),ref:l,...i})});l.displayName="Button"},23673:(e,r,s)=>{"use strict";s.d(r,{Ol:()=>o,SZ:()=>l,Zb:()=>i,aY:()=>c,ll:()=>d});var t=s(95344),n=s(3729),a=s(11453);let i=n.forwardRef(({className:e,variant:r="default",...s},n)=>t.jsx("div",{ref:n,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow-sm","glass"===r&&"glass backdrop-blur-md","gradient"===r&&"gradient-engineering text-white border-0","engineering"===r&&"border-engineering-blue/20 bg-gradient-to-br from-white to-engineering-blue/5 hover-lift",e),...s}));i.displayName="Card";let o=n.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));o.displayName="CardHeader";let d=n.forwardRef(({className:e,...r},s)=>t.jsx("h3",{ref:s,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let l=n.forwardRef(({className:e,...r},s)=>t.jsx("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));l.displayName="CardDescription";let c=n.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",n.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},11453:(e,r,s)=>{"use strict";s.d(r,{XO:()=>d,cn:()=>a,xG:()=>i,z2:()=>o});var t=s(56815),n=s(79377);function a(...e){return(0,n.m6)((0,t.W)(e))}function i(e){return new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(e)}function o(e){return({draft:"bg-gray-100 text-gray-800",bidding:"bg-blue-100 text-blue-800",contracted:"bg-green-100 text-green-800",in_progress:"bg-yellow-100 text-yellow-800",submitted:"bg-purple-100 text-purple-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}function d(e){return({draft:"\uD83D\uDCDD",bidding:"\uD83C\uDFD7️",contracted:"✅",in_progress:"⚡",submitted:"\uD83D\uDCCB",completed:"\uD83C\uDF89",cancelled:"❌"})[e]||"\uD83D\uDCC4"}},44618:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let t=(0,s(86843).createProxy)(String.raw`/Users/sayuri/caddonworks/src/app/debug-jobs/page.tsx`),{__esModule:n,$$typeof:a}=t,i=t.default}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[1638,4679,3035,8710],()=>s(80675));module.exports=t})();