"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/projects/[id]/approve/route";
exports.ids = ["app/api/projects/[id]/approve/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute.ts&appDir=%2FUsers%2Fsayuri%2Fcaddonworks%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsayuri%2Fcaddonworks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute.ts&appDir=%2FUsers%2Fsayuri%2Fcaddonworks%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsayuri%2Fcaddonworks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_sayuri_caddonworks_src_app_api_projects_id_approve_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/projects/[id]/approve/route.ts */ \"(rsc)/./src/app/api/projects/[id]/approve/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/projects/[id]/approve/route\",\n        pathname: \"/api/projects/[id]/approve\",\n        filename: \"route\",\n        bundlePath: \"app/api/projects/[id]/approve/route\"\n    },\n    resolvedPagePath: \"/Users/sayuri/caddonworks/src/app/api/projects/[id]/approve/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sayuri_caddonworks_src_app_api_projects_id_approve_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/projects/[id]/approve/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0cyUyRiU1QmlkJTVEJTJGYXBwcm92ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvamVjdHMlMkYlNUJpZCU1RCUyRmFwcHJvdmUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9qZWN0cyUyRiU1QmlkJTVEJTJGYXBwcm92ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNheXVyaSUyRmNhZGRvbndvcmtzJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnNheXVyaSUyRmNhZGRvbndvcmtzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ29CO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2l2aWwtZW5naW5lZXJpbmctcGxhdGZvcm0vP2YzNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3NheXVyaS9jYWRkb253b3Jrcy9zcmMvYXBwL2FwaS9wcm9qZWN0cy9baWRdL2FwcHJvdmUvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2plY3RzL1tpZF0vYXBwcm92ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb2plY3RzL1tpZF0vYXBwcm92ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvamVjdHMvW2lkXS9hcHByb3ZlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3NheXVyaS9jYWRkb253b3Jrcy9zcmMvYXBwL2FwaS9wcm9qZWN0cy9baWRdL2FwcHJvdmUvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJvamVjdHMvW2lkXS9hcHByb3ZlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute.ts&appDir=%2FUsers%2Fsayuri%2Fcaddonworks%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsayuri%2Fcaddonworks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/projects/[id]/approve/route.ts":
/*!****************************************************!*\
  !*** ./src/app/api/projects/[id]/approve/route.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _lib_box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/box */ \"(rsc)/./src/lib/box.ts\");\n/* harmony import */ var _lib_box_oauth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/box-oauth */ \"(rsc)/./src/lib/box-oauth.ts\");\n\n\n\n\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_3__.createClient)(\"https://rxnozwuamddqlcwysxag.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\nasync function POST(request, { params }) {\n    try {\n        const projectId = params.id;\n        const { action, comment } = await request.json() // action: 'approve' | 'reject'\n        ;\n        if (!action || ![\n            \"approve\",\n            \"reject\"\n        ].includes(action)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"無効なアクションです\"\n            }, {\n                status: 400\n            });\n        }\n        // Authorizationヘッダーからユーザー情報を取得\n        const authHeader = request.headers.get(\"authorization\");\n        if (!authHeader) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"認証が必要です\"\n            }, {\n                status: 401\n            });\n        }\n        const token = authHeader.replace(\"Bearer \", \"\");\n        const { data: { user }, error: authError } = await supabaseAdmin.auth.getUser(token);\n        if (authError || !user) {\n            console.error(\"認証エラー:\", authError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"認証に失敗しました\"\n            }, {\n                status: 401\n            });\n        }\n        // ユーザーの組織情報を取得\n        const { data: userProfile, error: userError } = await supabaseAdmin.from(\"users\").select(\"id, display_name\").eq(\"auth_user_id\", user.id).single();\n        if (userError || !userProfile) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"ユーザープロフィールが見つかりません\"\n            }, {\n                status: 403\n            });\n        }\n        // 案件情報を取得\n        const { data: project, error: projectError } = await supabaseAdmin.from(\"projects\").select(`\n        id,\n        title,\n        status,\n        approver_id,\n        org_id,\n        users!projects_approver_id_fkey (\n          id,\n          display_name,\n          email\n        )\n      `).eq(\"id\", projectId).single();\n        if (projectError || !project) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"案件が見つかりません\"\n            }, {\n                status: 404\n            });\n        }\n        // 承認者であることを確認\n        if (project.approver_id !== userProfile.id) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"この案件の承認権限がありません\"\n            }, {\n                status: 403\n            });\n        }\n        // 案件のステータスが承認待ちであることを確認\n        if (project.status !== \"pending_approval\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"この案件は承認待ちではありません\"\n            }, {\n                status: 400\n            });\n        }\n        // 案件のステータスを更新\n        const newStatus = action === \"approve\" ? \"bidding\" : \"rejected\";\n        let boxFolderId = null;\n        let boxSubfolders = null;\n        // 承認の場合はBOXフォルダを作成\n        if (action === \"approve\") {\n            try {\n                console.log(`Creating BOX folder structure for project: ${project.title}`);\n                const boxResult = await (0,_lib_box__WEBPACK_IMPORTED_MODULE_1__.createProjectFolderStructure)(project.title, projectId);\n                boxFolderId = boxResult.folderId;\n                boxSubfolders = boxResult.subfolders;\n                console.log(`✅ BOX folder created: ${boxFolderId}`);\n                // プロジェクトメンバーをBOXフォルダに自動招待\n                try {\n                    console.log(\"Adding project members to BOX folder...\");\n                    // 組織のメンバーを取得（BOXアカウントがリンクされているユーザーのみ）\n                    const { data: orgMembers, error: memberError } = await supabaseAdmin.from(\"memberships\").select(`\n              user_id,\n              users!inner (\n                id,\n                display_name,\n                box_user_id,\n                box_email\n              )\n            `).eq(\"org_id\", project.org_id).not(\"users.box_user_id\", \"is\", null);\n                    if (!memberError && orgMembers && orgMembers.length > 0) {\n                        for (const membership of orgMembers){\n                            const user = membership.users;\n                            if (user && user.box_user_id) {\n                                try {\n                                    await (0,_lib_box_oauth__WEBPACK_IMPORTED_MODULE_2__.addUserToBoxFolder)(boxFolderId, user.box_user_id, \"editor\" // デフォルトは編集権限\n                                    );\n                                    console.log(`✅ Added ${user.display_name} to BOX folder`);\n                                } catch (memberAddError) {\n                                    console.warn(`Failed to add ${user.display_name} to BOX folder:`, memberAddError);\n                                // 個別のメンバー追加失敗は全体の処理を止めない\n                                }\n                            }\n                        }\n                    } else {\n                        console.log(\"No BOX-linked members found for this organization\");\n                    }\n                } catch (memberInviteError) {\n                    console.error(\"BOXメンバー招待エラー:\", memberInviteError);\n                // メンバー招待失敗は承認処理を妨げない\n                }\n            } catch (boxError) {\n                console.error(\"BOXフォルダ作成エラー:\", boxError);\n            // BOXフォルダ作成に失敗しても承認処理は続行\n            // ただし、警告メッセージを含める\n            }\n        }\n        const updateData = {\n            status: newStatus,\n            approver_id: null // 承認後は承認者IDをクリア\n        };\n        // BOXフォルダが作成された場合は追加\n        if (boxFolderId) {\n            updateData.box_folder_id = boxFolderId;\n            if (boxSubfolders) {\n                updateData.box_subfolders = boxSubfolders;\n            }\n        }\n        const { error: updateError } = await supabaseAdmin.from(\"projects\").update(updateData).eq(\"id\", projectId);\n        if (updateError) {\n            console.error(\"案件ステータス更新エラー:\", updateError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"案件の更新に失敗しました\"\n            }, {\n                status: 500\n            });\n        }\n        // 案件作成者に通知を送信\n        try {\n            // 案件作成者のメンバーシップを取得\n            const { data: projectMemberships, error: projectMembershipError } = await supabaseAdmin.from(\"memberships\").select(\"user_id\").eq(\"org_id\", project.org_id).eq(\"role\", \"OrgAdmin\");\n            if (projectMemberships && !projectMembershipError) {\n                const notificationType = action === \"approve\" ? \"project_approved\" : \"project_rejected\";\n                const notificationTitle = action === \"approve\" ? \"案件承認完了\" : \"案件承認却下\";\n                const notificationMessage = action === \"approve\" ? `案件「${project.title}」が承認されました。` : `案件「${project.title}」が却下されました。${comment ? `理由: ${comment}` : \"\"}`;\n                // 組織内のすべてのOrgAdminに通知を送信\n                for (const membership of projectMemberships){\n                    await supabaseAdmin.from(\"notifications\").insert({\n                        user_id: membership.user_id,\n                        type: notificationType,\n                        title: notificationTitle,\n                        message: notificationMessage,\n                        data: {\n                            project_id: projectId,\n                            project_title: project.title,\n                            approver_id: userProfile.id,\n                            approver_name: userProfile.display_name,\n                            action: action,\n                            comment: comment || null\n                        }\n                    });\n                }\n            }\n        } catch (notificationError) {\n            console.error(\"通知送信エラー:\", notificationError);\n        // 通知エラーは承認処理を妨げない\n        }\n        const responseMessage = action === \"approve\" ? boxFolderId ? \"案件が承認され、BOXフォルダが作成されました\" : \"案件が承認されました（BOXフォルダ作成は権限承認待ちです）\" : \"案件が却下されました\";\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: responseMessage,\n            project: {\n                id: projectId,\n                status: newStatus,\n                box_folder_id: boxFolderId,\n                box_subfolders: boxSubfolders\n            }\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"案件承認処理エラー:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"サーバーエラーが発生しました\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcm9qZWN0cy9baWRdL2FwcHJvdmUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBdUQ7QUFDSDtBQUNJO0FBQ0o7QUFFcEQsTUFBTUksZ0JBQWdCSCxtRUFBWUEsQ0FDaENJLDBDQUFvQyxFQUNwQ0EsUUFBUUMsR0FBRyxDQUFDRSx5QkFBeUIsRUFDckM7SUFDRUMsTUFBTTtRQUNKQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtJQUNsQjtBQUNGO0FBR0ssZUFBZUMsS0FDcEJDLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBOEI7SUFFdEMsSUFBSTtRQUNGLE1BQU1DLFlBQVlELE9BQU9FLEVBQUU7UUFDM0IsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHLE1BQU1MLFFBQVFNLElBQUksR0FBRywrQkFBK0I7O1FBRWhGLElBQUksQ0FBQ0YsVUFBVSxDQUFDO1lBQUM7WUFBVztTQUFTLENBQUNHLFFBQVEsQ0FBQ0gsU0FBUztZQUN0RCxPQUFPakIsa0ZBQVlBLENBQUNtQixJQUFJLENBQ3RCO2dCQUFFRSxTQUFTO1lBQWEsR0FDeEI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLCtCQUErQjtRQUMvQixNQUFNQyxhQUFhVixRQUFRVyxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUN2QyxJQUFJLENBQUNGLFlBQVk7WUFDZixPQUFPdkIsa0ZBQVlBLENBQUNtQixJQUFJLENBQ3RCO2dCQUFFRSxTQUFTO1lBQVUsR0FDckI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1JLFFBQVFILFdBQVdJLE9BQU8sQ0FBQyxXQUFXO1FBQzVDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRUMsT0FBT0MsU0FBUyxFQUFFLEdBQUcsTUFBTTNCLGNBQWNLLElBQUksQ0FBQ3VCLE9BQU8sQ0FBQ047UUFFOUUsSUFBSUssYUFBYSxDQUFDRixNQUFNO1lBQ3RCSSxRQUFRSCxLQUFLLENBQUMs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Z0JBQWdCckI7WUFDbEI7UUFDRixHQUFHO1lBQUV2QixRQUFRO1FBQUk7SUFFbkIsRUFBRSxPQUFPUSxPQUFPO1FBQ2RHLFFBQVFILEtBQUssQ0FBQyxjQUFjQTtRQUM1QixPQUFPOUIsa0ZBQVlBLENBQUNtQixJQUFJLENBQ3RCO1lBQUVFLFNBQVM7UUFBaUIsR0FDNUI7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXZpbC1lbmdpbmVlcmluZy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL3Byb2plY3RzL1tpZF0vYXBwcm92ZS9yb3V0ZS50cz8yZTM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcbmltcG9ydCB7IGNyZWF0ZVByb2plY3RGb2xkZXJTdHJ1Y3R1cmUgfSBmcm9tICdAL2xpYi9ib3gnXG5pbXBvcnQgeyBhZGRVc2VyVG9Cb3hGb2xkZXIgfSBmcm9tICdAL2xpYi9ib3gtb2F1dGgnXG5cbmNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhLFxuICB7XG4gICAgYXV0aDoge1xuICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXG4gICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgICB9XG4gIH1cbilcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvamVjdElkID0gcGFyYW1zLmlkXG4gICAgY29uc3QgeyBhY3Rpb24sIGNvbW1lbnQgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpIC8vIGFjdGlvbjogJ2FwcHJvdmUnIHwgJ3JlamVjdCdcblxuICAgIGlmICghYWN0aW9uIHx8ICFbJ2FwcHJvdmUnLCAncmVqZWN0J10uaW5jbHVkZXMoYWN0aW9uKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1lc3NhZ2U6ICfnhKHlirnjgarjgqLjgq/jgrfjg6fjg7PjgafjgZknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIEF1dGhvcml6YXRpb27jg5jjg4Pjg4Djg7zjgYvjgonjg6bjg7zjgrbjg7zmg4XloLHjgpLlj5blvpdcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpXG4gICAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ+iqjeiovOOBjOW/heimgeOBp+OBmScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnJlcGxhY2UoJ0JlYXJlciAnLCAnJylcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluLmF1dGguZ2V0VXNlcih0b2tlbilcbiAgICBcbiAgICBpZiAoYXV0aEVycm9yIHx8ICF1c2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfoqo3oqLzjgqjjg6njg7w6JywgYXV0aEVycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1lc3NhZ2U6ICfoqo3oqLzjgavlpLHmlZfjgZfjgb7jgZfjgZ8nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIOODpuODvOOCtuODvOOBrue1hOe5lOaDheWgseOCkuWPluW+l1xuICAgIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAuc2VsZWN0KCdpZCwgZGlzcGxheV9uYW1lJylcbiAgICAgIC5lcSgnYXV0aF91c2VyX2lkJywgdXNlci5pZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKHVzZXJFcnJvciB8fCAhdXNlclByb2ZpbGUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAn44Om44O844K244O844OX44Ot44OV44Kj44O844Or44GM6KaL44Gk44GL44KK44G+44Gb44KTJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyDmoYjku7bmg4XloLHjgpLlj5blvpdcbiAgICBjb25zdCB7IGRhdGE6IHByb2plY3QsIGVycm9yOiBwcm9qZWN0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9qZWN0cycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgaWQsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGFwcHJvdmVyX2lkLFxuICAgICAgICBvcmdfaWQsXG4gICAgICAgIHVzZXJzIXByb2plY3RzX2FwcHJvdmVyX2lkX2ZrZXkgKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGRpc3BsYXlfbmFtZSxcbiAgICAgICAgICBlbWFpbFxuICAgICAgICApXG4gICAgICBgKVxuICAgICAgLmVxKCdpZCcsIHByb2plY3RJZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKHByb2plY3RFcnJvciB8fCAhcHJvamVjdCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1lc3NhZ2U6ICfmoYjku7bjgYzopovjgaTjgYvjgorjgb7jgZvjgpMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIOaJv+iqjeiAheOBp+OBguOCi+OBk+OBqOOCkueiuuiqjVxuICAgIGlmIChwcm9qZWN0LmFwcHJvdmVyX2lkICE9PSB1c2VyUHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG1lc3NhZ2U6ICfjgZPjga7moYjku7bjga7mib/oqo3mqKnpmZDjgYzjgYLjgorjgb7jgZvjgpMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIOahiOS7tuOBruOCueODhuODvOOCv+OCueOBjOaJv+iqjeW+heOBoeOBp+OBguOCi+OBk+OBqOOCkueiuuiqjVxuICAgIGlmIChwcm9qZWN0LnN0YXR1cyAhPT0gJ3BlbmRpbmdfYXBwcm92YWwnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ+OBk+OBruahiOS7tuOBr+aJv+iqjeW+heOBoeOBp+OBr+OBguOCiuOBvuOBm+OCkycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8g5qGI5Lu244Gu44K544OG44O844K/44K544KS5pu05pawXG4gICAgY29uc3QgbmV3U3RhdHVzID0gYWN0aW9uID09PSAnYXBwcm92ZScgPyAnYmlkZGluZycgOiAncmVqZWN0ZWQnXG4gICAgbGV0IGJveEZvbGRlcklkOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuICAgIGxldCBib3hTdWJmb2xkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHwgbnVsbCA9IG51bGxcblxuICAgIC8vIOaJv+iqjeOBruWgtOWQiOOBr0JPWOODleOCqeODq+ODgOOCkuS9nOaIkFxuICAgIGlmIChhY3Rpb24gPT09ICdhcHByb3ZlJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coYENyZWF0aW5nIEJPWCBmb2xkZXIgc3RydWN0dXJlIGZvciBwcm9qZWN0OiAke3Byb2plY3QudGl0bGV9YClcbiAgICAgICAgY29uc3QgYm94UmVzdWx0ID0gYXdhaXQgY3JlYXRlUHJvamVjdEZvbGRlclN0cnVjdHVyZShwcm9qZWN0LnRpdGxlLCBwcm9qZWN0SWQpXG4gICAgICAgIGJveEZvbGRlcklkID0gYm94UmVzdWx0LmZvbGRlcklkXG4gICAgICAgIGJveFN1YmZvbGRlcnMgPSBib3hSZXN1bHQuc3ViZm9sZGVyc1xuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIEJPWCBmb2xkZXIgY3JlYXRlZDogJHtib3hGb2xkZXJJZH1gKVxuXG4gICAgICAgIC8vIOODl+ODreOCuOOCp+OCr+ODiOODoeODs+ODkOODvOOCkkJPWOODleOCqeODq+ODgOOBq+iHquWLleaLm+W+hVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgcHJvamVjdCBtZW1iZXJzIHRvIEJPWCBmb2xkZXIuLi4nKVxuXG4gICAgICAgICAgLy8g57WE57mU44Gu44Oh44Oz44OQ44O844KS5Y+W5b6X77yIQk9Y44Ki44Kr44Km44Oz44OI44GM44Oq44Oz44Kv44GV44KM44Gm44GE44KL44Om44O844K244O844Gu44G/77yJXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBvcmdNZW1iZXJzLCBlcnJvcjogbWVtYmVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgICAgIC5mcm9tKCdtZW1iZXJzaGlwcycpXG4gICAgICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgdXNlcnMhaW5uZXIgKFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgICAgICBib3hfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBib3hfZW1haWxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgYClcbiAgICAgICAgICAgIC5lcSgnb3JnX2lkJywgcHJvamVjdC5vcmdfaWQpXG4gICAgICAgICAgICAubm90KCd1c2Vycy5ib3hfdXNlcl9pZCcsICdpcycsIG51bGwpXG5cbiAgICAgICAgICBpZiAoIW1lbWJlckVycm9yICYmIG9yZ01lbWJlcnMgJiYgb3JnTWVtYmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lbWJlcnNoaXAgb2Ygb3JnTWVtYmVycykge1xuICAgICAgICAgICAgICBjb25zdCB1c2VyID0gbWVtYmVyc2hpcC51c2VycyBhcyBhbnlcbiAgICAgICAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5ib3hfdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBhd2FpdCBhZGRVc2VyVG9Cb3hGb2xkZXIoXG4gICAgICAgICAgICAgICAgICAgIGJveEZvbGRlcklkLFxuICAgICAgICAgICAgICAgICAgICB1c2VyLmJveF91c2VyX2lkLFxuICAgICAgICAgICAgICAgICAgICAnZWRpdG9yJyAvLyDjg4fjg5Xjgqnjg6vjg4jjga/nt6jpm4bmqKnpmZBcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgQWRkZWQgJHt1c2VyLmRpc3BsYXlfbmFtZX0gdG8gQk9YIGZvbGRlcmApXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAobWVtYmVyQWRkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGFkZCAke3VzZXIuZGlzcGxheV9uYW1lfSB0byBCT1ggZm9sZGVyOmAsIG1lbWJlckFkZEVycm9yKVxuICAgICAgICAgICAgICAgICAgLy8g5YCL5Yil44Gu44Oh44Oz44OQ44O86L+95Yqg5aSx5pWX44Gv5YWo5L2T44Gu5Yem55CG44KS5q2i44KB44Gq44GEXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBCT1gtbGlua2VkIG1lbWJlcnMgZm91bmQgZm9yIHRoaXMgb3JnYW5pemF0aW9uJylcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKG1lbWJlckludml0ZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQk9Y44Oh44Oz44OQ44O85oub5b6F44Ko44Op44O8OicsIG1lbWJlckludml0ZUVycm9yKVxuICAgICAgICAgIC8vIOODoeODs+ODkOODvOaLm+W+heWkseaVl+OBr+aJv+iqjeWHpueQhuOCkuWmqOOBkuOBquOBhFxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChib3hFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdCT1jjg5Xjgqnjg6vjg4DkvZzmiJDjgqjjg6njg7w6JywgYm94RXJyb3IpXG4gICAgICAgIC8vIEJPWOODleOCqeODq+ODgOS9nOaIkOOBq+WkseaVl+OBl+OBpuOCguaJv+iqjeWHpueQhuOBr+e2muihjFxuICAgICAgICAvLyDjgZ/jgaDjgZfjgIHorablkYrjg6Hjg4Pjgrvjg7zjgrjjgpLlkKvjgoHjgotcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVEYXRhOiBhbnkgPSB7XG4gICAgICBzdGF0dXM6IG5ld1N0YXR1cyxcbiAgICAgIGFwcHJvdmVyX2lkOiBudWxsIC8vIOaJv+iqjeW+jOOBr+aJv+iqjeiAhUlE44KS44Kv44Oq44KiXG4gICAgfVxuXG4gICAgLy8gQk9Y44OV44Kp44Or44OA44GM5L2c5oiQ44GV44KM44Gf5aC05ZCI44Gv6L+95YqgXG4gICAgaWYgKGJveEZvbGRlcklkKSB7XG4gICAgICB1cGRhdGVEYXRhLmJveF9mb2xkZXJfaWQgPSBib3hGb2xkZXJJZFxuICAgICAgaWYgKGJveFN1YmZvbGRlcnMpIHtcbiAgICAgICAgdXBkYXRlRGF0YS5ib3hfc3ViZm9sZGVycyA9IGJveFN1YmZvbGRlcnNcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3Byb2plY3RzJylcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgIC5lcSgnaWQnLCBwcm9qZWN0SWQpXG5cbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+ahiOS7tuOCueODhuODvOOCv+OCueabtOaWsOOCqOODqeODvDonLCB1cGRhdGVFcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAn5qGI5Lu244Gu5pu05paw44Gr5aSx5pWX44GX44G+44GX44GfJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyDmoYjku7bkvZzmiJDogIXjgavpgJrnn6XjgpLpgIHkv6FcbiAgICB0cnkge1xuICAgICAgLy8g5qGI5Lu25L2c5oiQ6ICF44Gu44Oh44Oz44OQ44O844K344OD44OX44KS5Y+W5b6XXG4gICAgICBjb25zdCB7IGRhdGE6IHByb2plY3RNZW1iZXJzaGlwcywgZXJyb3I6IHByb2plY3RNZW1iZXJzaGlwRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgLmZyb20oJ21lbWJlcnNoaXBzJylcbiAgICAgICAgLnNlbGVjdCgndXNlcl9pZCcpXG4gICAgICAgIC5lcSgnb3JnX2lkJywgcHJvamVjdC5vcmdfaWQpXG4gICAgICAgIC5lcSgncm9sZScsICdPcmdBZG1pbicpXG5cbiAgICAgIGlmIChwcm9qZWN0TWVtYmVyc2hpcHMgJiYgIXByb2plY3RNZW1iZXJzaGlwRXJyb3IpIHtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uVHlwZSA9IGFjdGlvbiA9PT0gJ2FwcHJvdmUnID8gJ3Byb2plY3RfYXBwcm92ZWQnIDogJ3Byb2plY3RfcmVqZWN0ZWQnXG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvblRpdGxlID0gYWN0aW9uID09PSAnYXBwcm92ZScgPyAn5qGI5Lu25om/6KqN5a6M5LqGJyA6ICfmoYjku7bmib/oqo3ljbTkuIsnXG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbk1lc3NhZ2UgPSBhY3Rpb24gPT09ICdhcHByb3ZlJyBcbiAgICAgICAgICA/IGDmoYjku7bjgIwke3Byb2plY3QudGl0bGV944CN44GM5om/6KqN44GV44KM44G+44GX44Gf44CCYFxuICAgICAgICAgIDogYOahiOS7tuOAjCR7cHJvamVjdC50aXRsZX3jgI3jgYzljbTkuIvjgZXjgozjgb7jgZfjgZ/jgIIke2NvbW1lbnQgPyBg55CG55SxOiAke2NvbW1lbnR9YCA6ICcnfWBcblxuICAgICAgICAvLyDntYTnuZTlhoXjga7jgZnjgbnjgabjga5PcmdBZG1pbuOBq+mAmuefpeOCkumAgeS/oVxuICAgICAgICBmb3IgKGNvbnN0IG1lbWJlcnNoaXAgb2YgcHJvamVjdE1lbWJlcnNoaXBzKSB7XG4gICAgICAgICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnKVxuICAgICAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgICAgIHVzZXJfaWQ6IG1lbWJlcnNoaXAudXNlcl9pZCxcbiAgICAgICAgICAgICAgdHlwZTogbm90aWZpY2F0aW9uVHlwZSxcbiAgICAgICAgICAgICAgdGl0bGU6IG5vdGlmaWNhdGlvblRpdGxlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBub3RpZmljYXRpb25NZXNzYWdlLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdF9pZDogcHJvamVjdElkLFxuICAgICAgICAgICAgICAgIHByb2plY3RfdGl0bGU6IHByb2plY3QudGl0bGUsXG4gICAgICAgICAgICAgICAgYXBwcm92ZXJfaWQ6IHVzZXJQcm9maWxlLmlkLFxuICAgICAgICAgICAgICAgIGFwcHJvdmVyX25hbWU6IHVzZXJQcm9maWxlLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgICAgICBjb21tZW50OiBjb21tZW50IHx8IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKG5vdGlmaWNhdGlvbkVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfpgJrnn6XpgIHkv6Hjgqjjg6njg7w6Jywgbm90aWZpY2F0aW9uRXJyb3IpXG4gICAgICAvLyDpgJrnn6Xjgqjjg6njg7zjga/mib/oqo3lh6bnkIbjgpLlpqjjgZLjgarjgYRcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZU1lc3NhZ2UgPSBhY3Rpb24gPT09ICdhcHByb3ZlJ1xuICAgICAgPyBib3hGb2xkZXJJZFxuICAgICAgICA/ICfmoYjku7bjgYzmib/oqo3jgZXjgozjgIFCT1jjg5Xjgqnjg6vjg4DjgYzkvZzmiJDjgZXjgozjgb7jgZfjgZ8nXG4gICAgICAgIDogJ+ahiOS7tuOBjOaJv+iqjeOBleOCjOOBvuOBl+OBn++8iEJPWOODleOCqeODq+ODgOS9nOaIkOOBr+aoqemZkOaJv+iqjeW+heOBoeOBp+OBme+8iSdcbiAgICAgIDogJ+ahiOS7tuOBjOWNtOS4i+OBleOCjOOBvuOBl+OBnydcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBtZXNzYWdlOiByZXNwb25zZU1lc3NhZ2UsXG4gICAgICBwcm9qZWN0OiB7XG4gICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICAgIHN0YXR1czogbmV3U3RhdHVzLFxuICAgICAgICBib3hfZm9sZGVyX2lkOiBib3hGb2xkZXJJZCxcbiAgICAgICAgYm94X3N1YmZvbGRlcnM6IGJveFN1YmZvbGRlcnNcbiAgICAgIH1cbiAgICB9LCB7IHN0YXR1czogMjAwIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfmoYjku7bmib/oqo3lh6bnkIbjgqjjg6njg7w6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBtZXNzYWdlOiAn44K144O844OQ44O844Ko44Op44O844GM55m655Sf44GX44G+44GX44GfJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiY3JlYXRlUHJvamVjdEZvbGRlclN0cnVjdHVyZSIsImFkZFVzZXJUb0JveEZvbGRlciIsInN1cGFiYXNlQWRtaW4iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iLCJQT1NUIiwicmVxdWVzdCIsInBhcmFtcyIsInByb2plY3RJZCIsImlkIiwiYWN0aW9uIiwiY29tbWVudCIsImpzb24iLCJpbmNsdWRlcyIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInRva2VuIiwicmVwbGFjZSIsImRhdGEiLCJ1c2VyIiwiZXJyb3IiLCJhdXRoRXJyb3IiLCJnZXRVc2VyIiwiY29uc29sZSIsInVzZXJQcm9maWxlIiwidXNlckVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwicHJvamVjdCIsInByb2plY3RFcnJvciIsImFwcHJvdmVyX2lkIiwibmV3U3RhdHVzIiwiYm94Rm9sZGVySWQiLCJib3hTdWJmb2xkZXJzIiwibG9nIiwidGl0bGUiLCJib3hSZXN1bHQiLCJmb2xkZXJJZCIsInN1YmZvbGRlcnMiLCJvcmdNZW1iZXJzIiwibWVtYmVyRXJyb3IiLCJvcmdfaWQiLCJub3QiLCJsZW5ndGgiLCJtZW1iZXJzaGlwIiwidXNlcnMiLCJib3hfdXNlcl9pZCIsImRpc3BsYXlfbmFtZSIsIm1lbWJlckFkZEVycm9yIiwid2FybiIsIm1lbWJlckludml0ZUVycm9yIiwiYm94RXJyb3IiLCJ1cGRhdGVEYXRhIiwiYm94X2ZvbGRlcl9pZCIsImJveF9zdWJmb2xkZXJzIiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJwcm9qZWN0TWVtYmVyc2hpcHMiLCJwcm9qZWN0TWVtYmVyc2hpcEVycm9yIiwibm90aWZpY2F0aW9uVHlwZSIsIm5vdGlmaWNhdGlvblRpdGxlIiwibm90aWZpY2F0aW9uTWVzc2FnZSIsImluc2VydCIsInVzZXJfaWQiLCJ0eXBlIiwicHJvamVjdF9pZCIsInByb2plY3RfdGl0bGUiLCJhcHByb3Zlcl9uYW1lIiwibm90aWZpY2F0aW9uRXJyb3IiLCJyZXNwb25zZU1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/projects/[id]/approve/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/box-oauth.ts":
/*!******************************!*\
  !*** ./src/lib/box-oauth.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addUserToBoxFolder: () => (/* binding */ addUserToBoxFolder),\n/* harmony export */   exchangeCodeForTokens: () => (/* binding */ exchangeCodeForTokens),\n/* harmony export */   getBoxAuthUrl: () => (/* binding */ getBoxAuthUrl),\n/* harmony export */   getBoxUserInfo: () => (/* binding */ getBoxUserInfo),\n/* harmony export */   getUserBoxToken: () => (/* binding */ getUserBoxToken),\n/* harmony export */   refreshBoxToken: () => (/* binding */ refreshBoxToken),\n/* harmony export */   saveUserBoxTokens: () => (/* binding */ saveUserBoxTokens)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./box */ \"(rsc)/./src/lib/box.ts\");\n// BOX OAuth 2.0 integration for user account linking\n\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(\"https://rxnozwuamddqlcwysxag.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n// Generate BOX OAuth authorization URL\nfunction getBoxAuthUrl(state) {\n    const clientId = process.env.BOX_CLIENT_ID;\n    const redirectUri = `${process.env.NEXTAUTH_URL}/api/box/oauth/callback`;\n    const params = new URLSearchParams({\n        response_type: \"code\",\n        client_id: clientId,\n        redirect_uri: redirectUri,\n        scope: \"root_readwrite\",\n        state\n    });\n    return `https://account.box.com/api/oauth2/authorize?${params}`;\n}\n// Exchange authorization code for access token\nasync function exchangeCodeForTokens(code) {\n    const redirectUri = `${process.env.NEXTAUTH_URL}/api/box/oauth/callback`;\n    const body = new URLSearchParams({\n        grant_type: \"authorization_code\",\n        code,\n        client_id: process.env.BOX_CLIENT_ID,\n        client_secret: process.env.BOX_CLIENT_SECRET,\n        redirect_uri: redirectUri\n    });\n    const res = await fetch(\"https://api.box.com/oauth2/token\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body\n    });\n    if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`BOX OAuth token exchange failed ${res.status}: ${errorText}`);\n    }\n    return res.json();\n}\n// Get BOX user information using access token\nasync function getBoxUserInfo(accessToken) {\n    const res = await fetch(\"https://api.box.com/2.0/users/me\", {\n        headers: {\n            \"Authorization\": `Bearer ${accessToken}`\n        }\n    });\n    if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`BOX user info fetch failed ${res.status}: ${errorText}`);\n    }\n    return res.json();\n}\n// Refresh BOX access token\nasync function refreshBoxToken(refreshToken) {\n    const body = new URLSearchParams({\n        grant_type: \"refresh_token\",\n        refresh_token: refreshToken,\n        client_id: process.env.BOX_CLIENT_ID,\n        client_secret: process.env.BOX_CLIENT_SECRET\n    });\n    const res = await fetch(\"https://api.box.com/oauth2/token\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body\n    });\n    if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`BOX token refresh failed ${res.status}: ${errorText}`);\n    }\n    return res.json();\n}\n// Save BOX OAuth tokens to user profile\nasync function saveUserBoxTokens(userId, tokens, userInfo, accountType) {\n    const expiresAt = new Date(Date.now() + tokens.expires_in * 1000);\n    const { error } = await supabaseAdmin.from(\"users\").update({\n        box_email: userInfo.login,\n        box_user_id: userInfo.id,\n        box_oauth_token: tokens.access_token,\n        box_oauth_refresh_token: tokens.refresh_token,\n        box_oauth_expires_at: expiresAt.toISOString(),\n        box_account_type: accountType\n    }).eq(\"id\", userId);\n    if (error) {\n        throw new Error(`Failed to save BOX tokens: ${error.message}`);\n    }\n}\n// Get valid BOX access token for user (refresh if needed)\nasync function getUserBoxToken(userId) {\n    const { data: user, error } = await supabaseAdmin.from(\"users\").select(\"box_oauth_token, box_oauth_refresh_token, box_oauth_expires_at\").eq(\"id\", userId).single();\n    if (error || !user || !user.box_oauth_token) {\n        return null;\n    }\n    // Check if token is still valid\n    const expiresAt = new Date(user.box_oauth_expires_at);\n    const now = new Date();\n    if (now < expiresAt) {\n        return user.box_oauth_token;\n    }\n    // Token expired, try to refresh\n    if (user.box_oauth_refresh_token) {\n        try {\n            const tokens = await refreshBoxToken(user.box_oauth_refresh_token);\n            const newExpiresAt = new Date(Date.now() + tokens.expires_in * 1000);\n            await supabaseAdmin.from(\"users\").update({\n                box_oauth_token: tokens.access_token,\n                box_oauth_refresh_token: tokens.refresh_token,\n                box_oauth_expires_at: newExpiresAt.toISOString()\n            }).eq(\"id\", userId);\n            return tokens.access_token;\n        } catch (refreshError) {\n            console.error(\"Failed to refresh BOX token:\", refreshError);\n            return null;\n        }\n    }\n    return null;\n}\n// Add user to BOX folder with specific permissions\nasync function addUserToBoxFolder(folderId, userBoxId, role = \"editor\") {\n    const accessToken = await (0,_box__WEBPACK_IMPORTED_MODULE_1__.getAppAuthAccessToken)() // Use enterprise token for management\n    ;\n    const body = {\n        item: {\n            id: folderId,\n            type: \"folder\"\n        },\n        accessible_by: {\n            id: userBoxId,\n            type: \"user\"\n        },\n        role\n    };\n    const res = await fetch(\"https://api.box.com/2.0/collaborations\", {\n        method: \"POST\",\n        headers: {\n            \"Authorization\": `Bearer ${accessToken}`,\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n    });\n    if (!res.ok) {\n        const errorText = await res.text();\n        throw new Error(`BOX collaboration creation failed ${res.status}: ${errorText}`);\n    }\n}\n// Import the enterprise token function from existing box.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXJpbmctcGxhdGZvcm0vLi9zcmMvbGliL2JveC1vYXV0aC50cz85YTQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEJPWCBPQXV0aCAyLjAgaW50ZWdyYXRpb24gZm9yIHVzZXIgYWNjb3VudCBsaW5raW5nXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5cbmNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhLFxuICB7IGF1dGg6IHsgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSB9IH1cbilcblxuZXhwb3J0IGludGVyZmFjZSBCb3hPQXV0aFRva2VucyB7XG4gIGFjY2Vzc190b2tlbjogc3RyaW5nXG4gIHJlZnJlc2hfdG9rZW46IHN0cmluZ1xuICBleHBpcmVzX2luOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCb3hVc2VySW5mbyB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGxvZ2luOiBzdHJpbmcgLy8gZW1haWxcbn1cblxuLy8gR2VuZXJhdGUgQk9YIE9BdXRoIGF1dGhvcml6YXRpb24gVVJMXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm94QXV0aFVybChzdGF0ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgY2xpZW50SWQgPSBwcm9jZXNzLmVudi5CT1hfQ0xJRU5UX0lEIVxuICBjb25zdCByZWRpcmVjdFVyaSA9IGAke3Byb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTH0vYXBpL2JveC9vYXV0aC9jYWxsYmFja2BcblxuICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICByZXNwb25zZV90eXBlOiAnY29kZScsXG4gICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICByZWRpcmVjdF91cmk6IHJlZGlyZWN0VXJpLFxuICAgIHNjb3BlOiAncm9vdF9yZWFkd3JpdGUnLFxuICAgIHN0YXRlIC8vIEluY2x1ZGUgdXNlciBJRCBvciBzZXNzaW9uIGlkZW50aWZpZXJcbiAgfSlcblxuICByZXR1cm4gYGh0dHBzOi8vYWNjb3VudC5ib3guY29tL2FwaS9vYXV0aDIvYXV0aG9yaXplPyR7cGFyYW1zfWBcbn1cblxuLy8gRXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciBhY2Nlc3MgdG9rZW5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGNoYW5nZUNvZGVGb3JUb2tlbnMoY29kZTogc3RyaW5nKTogUHJvbWlzZTxCb3hPQXV0aFRva2Vucz4ge1xuICBjb25zdCByZWRpcmVjdFVyaSA9IGAke3Byb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTH0vYXBpL2JveC9vYXV0aC9jYWxsYmFja2BcblxuICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgZ3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG4gICAgY29kZSxcbiAgICBjbGllbnRfaWQ6IHByb2Nlc3MuZW52LkJPWF9DTElFTlRfSUQhLFxuICAgIGNsaWVudF9zZWNyZXQ6IHByb2Nlc3MuZW52LkJPWF9DTElFTlRfU0VDUkVUISxcbiAgICByZWRpcmVjdF91cmk6IHJlZGlyZWN0VXJpXG4gIH0pXG5cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmJveC5jb20vb2F1dGgyL3Rva2VuJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sXG4gICAgYm9keVxuICB9KVxuXG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzLnRleHQoKVxuICAgIHRocm93IG5ldyBFcnJvcihgQk9YIE9BdXRoIHRva2VuIGV4Y2hhbmdlIGZhaWxlZCAke3Jlcy5zdGF0dXN9OiAke2Vycm9yVGV4dH1gKVxuICB9XG5cbiAgcmV0dXJuIHJlcy5qc29uKClcbn1cblxuLy8gR2V0IEJPWCB1c2VyIGluZm9ybWF0aW9uIHVzaW5nIGFjY2VzcyB0b2tlblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJveFVzZXJJbmZvKGFjY2Vzc1Rva2VuOiBzdHJpbmcpOiBQcm9taXNlPEJveFVzZXJJbmZvPiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5ib3guY29tLzIuMC91c2Vycy9tZScsIHtcbiAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfVxuICB9KVxuXG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzLnRleHQoKVxuICAgIHRocm93IG5ldyBFcnJvcihgQk9YIHVzZXIgaW5mbyBmZXRjaCBmYWlsZWQgJHtyZXMuc3RhdHVzfTogJHtlcnJvclRleHR9YClcbiAgfVxuXG4gIHJldHVybiByZXMuanNvbigpXG59XG5cbi8vIFJlZnJlc2ggQk9YIGFjY2VzcyB0b2tlblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hCb3hUb2tlbihyZWZyZXNoVG9rZW46IHN0cmluZyk6IFByb21pc2U8Qm94T0F1dGhUb2tlbnM+IHtcbiAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgIGdyYW50X3R5cGU6ICdyZWZyZXNoX3Rva2VuJyxcbiAgICByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4sXG4gICAgY2xpZW50X2lkOiBwcm9jZXNzLmVudi5CT1hfQ0xJRU5UX0lEISxcbiAgICBjbGllbnRfc2VjcmV0OiBwcm9jZXNzLmVudi5CT1hfQ0xJRU5UX1NFQ1JFVCFcbiAgfSlcblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYm94LmNvbS9vYXV0aDIvdG9rZW4nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSxcbiAgICBib2R5XG4gIH0pXG5cbiAgaWYgKCFyZXMub2spIHtcbiAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXMudGV4dCgpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBCT1ggdG9rZW4gcmVmcmVzaCBmYWlsZWQgJHtyZXMuc3RhdHVzfTogJHtlcnJvclRleHR9YClcbiAgfVxuXG4gIHJldHVybiByZXMuanNvbigpXG59XG5cbi8vIFNhdmUgQk9YIE9BdXRoIHRva2VucyB0byB1c2VyIHByb2ZpbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlVXNlckJveFRva2VucyhcbiAgdXNlcklkOiBzdHJpbmcsXG4gIHRva2VuczogQm94T0F1dGhUb2tlbnMsXG4gIHVzZXJJbmZvOiBCb3hVc2VySW5mbyxcbiAgYWNjb3VudFR5cGU6ICduZXcnIHwgJ2V4aXN0aW5nJ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyB0b2tlbnMuZXhwaXJlc19pbiAqIDEwMDApXG5cbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgIC5mcm9tKCd1c2VycycpXG4gICAgLnVwZGF0ZSh7XG4gICAgICBib3hfZW1haWw6IHVzZXJJbmZvLmxvZ2luLFxuICAgICAgYm94X3VzZXJfaWQ6IHVzZXJJbmZvLmlkLFxuICAgICAgYm94X29hdXRoX3Rva2VuOiB0b2tlbnMuYWNjZXNzX3Rva2VuLCAvLyBJbiBwcm9kdWN0aW9uLCBlbmNyeXB0IHRoaXNcbiAgICAgIGJveF9vYXV0aF9yZWZyZXNoX3Rva2VuOiB0b2tlbnMucmVmcmVzaF90b2tlbiwgLy8gSW4gcHJvZHVjdGlvbiwgZW5jcnlwdCB0aGlzXG4gICAgICBib3hfb2F1dGhfZXhwaXJlc19hdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG4gICAgICBib3hfYWNjb3VudF90eXBlOiBhY2NvdW50VHlwZVxuICAgIH0pXG4gICAgLmVxKCdpZCcsIHVzZXJJZClcblxuICBpZiAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIEJPWCB0b2tlbnM6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICB9XG59XG5cbi8vIEdldCB2YWxpZCBCT1ggYWNjZXNzIHRva2VuIGZvciB1c2VyIChyZWZyZXNoIGlmIG5lZWRlZClcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQm94VG9rZW4odXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgIC5mcm9tKCd1c2VycycpXG4gICAgLnNlbGVjdCgnYm94X29hdXRoX3Rva2VuLCBib3hfb2F1dGhfcmVmcmVzaF90b2tlbiwgYm94X29hdXRoX2V4cGlyZXNfYXQnKVxuICAgIC5lcSgnaWQnLCB1c2VySWQpXG4gICAgLnNpbmdsZSgpXG5cbiAgaWYgKGVycm9yIHx8ICF1c2VyIHx8ICF1c2VyLmJveF9vYXV0aF90b2tlbikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBDaGVjayBpZiB0b2tlbiBpcyBzdGlsbCB2YWxpZFxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSh1c2VyLmJveF9vYXV0aF9leHBpcmVzX2F0KVxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG5cbiAgaWYgKG5vdyA8IGV4cGlyZXNBdCkge1xuICAgIHJldHVybiB1c2VyLmJveF9vYXV0aF90b2tlblxuICB9XG5cbiAgLy8gVG9rZW4gZXhwaXJlZCwgdHJ5IHRvIHJlZnJlc2hcbiAgaWYgKHVzZXIuYm94X29hdXRoX3JlZnJlc2hfdG9rZW4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgcmVmcmVzaEJveFRva2VuKHVzZXIuYm94X29hdXRoX3JlZnJlc2hfdG9rZW4pXG4gICAgICBjb25zdCBuZXdFeHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgdG9rZW5zLmV4cGlyZXNfaW4gKiAxMDAwKVxuXG4gICAgICBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgIGJveF9vYXV0aF90b2tlbjogdG9rZW5zLmFjY2Vzc190b2tlbixcbiAgICAgICAgICBib3hfb2F1dGhfcmVmcmVzaF90b2tlbjogdG9rZW5zLnJlZnJlc2hfdG9rZW4sXG4gICAgICAgICAgYm94X29hdXRoX2V4cGlyZXNfYXQ6IG5ld0V4cGlyZXNBdC50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICAgIC5lcSgnaWQnLCB1c2VySWQpXG5cbiAgICAgIHJldHVybiB0b2tlbnMuYWNjZXNzX3Rva2VuXG4gICAgfSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVmcmVzaCBCT1ggdG9rZW46JywgcmVmcmVzaEVycm9yKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG4vLyBBZGQgdXNlciB0byBCT1ggZm9sZGVyIHdpdGggc3BlY2lmaWMgcGVybWlzc2lvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRVc2VyVG9Cb3hGb2xkZXIoXG4gIGZvbGRlcklkOiBzdHJpbmcsXG4gIHVzZXJCb3hJZDogc3RyaW5nLFxuICByb2xlOiAndmlld2VyJyB8ICdlZGl0b3InIHwgJ3VwbG9hZGVyJyA9ICdlZGl0b3InXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCBnZXRBcHBBdXRoQWNjZXNzVG9rZW4oKSAvLyBVc2UgZW50ZXJwcmlzZSB0b2tlbiBmb3IgbWFuYWdlbWVudFxuXG4gIGNvbnN0IGJvZHkgPSB7XG4gICAgaXRlbTogeyBpZDogZm9sZGVySWQsIHR5cGU6ICdmb2xkZXInIH0sXG4gICAgYWNjZXNzaWJsZV9ieTogeyBpZDogdXNlckJveElkLCB0eXBlOiAndXNlcicgfSxcbiAgICByb2xlXG4gIH1cblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYm94LmNvbS8yLjAvY29sbGFib3JhdGlvbnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gIH0pXG5cbiAgaWYgKCFyZXMub2spIHtcbiAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXMudGV4dCgpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBCT1ggY29sbGFib3JhdGlvbiBjcmVhdGlvbiBmYWlsZWQgJHtyZXMuc3RhdHVzfTogJHtlcnJvclRleHR9YClcbiAgfVxufVxuXG4vLyBJbXBvcnQgdGhlIGVudGVycHJpc2UgdG9rZW4gZnVuY3Rpb24gZnJvbSBleGlzdGluZyBib3gudHNcbmltcG9ydCB7IGdldEFwcEF1dGhBY2Nlc3NUb2tlbiB9IGZyb20gJy4vYm94JyJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZUFkbWluIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiZ2V0Qm94QXV0aFVybCIsInN0YXRlIiwiY2xpZW50SWQiLCJCT1hfQ0xJRU5UX0lEIiwicmVkaXJlY3RVcmkiLCJORVhUQVVUSF9VUkwiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJyZXNwb25zZV90eXBlIiwiY2xpZW50X2lkIiwicmVkaXJlY3RfdXJpIiwic2NvcGUiLCJleGNoYW5nZUNvZGVGb3JUb2tlbnMiLCJjb2RlIiwiYm9keSIsImdyYW50X3R5cGUiLCJjbGllbnRfc2VjcmV0IiwiQk9YX0NMSUVOVF9TRUNSRVQiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJnZXRCb3hVc2VySW5mbyIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaEJveFRva2VuIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaF90b2tlbiIsInNhdmVVc2VyQm94VG9rZW5zIiwidXNlcklkIiwidG9rZW5zIiwidXNlckluZm8iLCJhY2NvdW50VHlwZSIsImV4cGlyZXNBdCIsIkRhdGUiLCJub3ciLCJleHBpcmVzX2luIiwiZXJyb3IiLCJmcm9tIiwidXBkYXRlIiwiYm94X2VtYWlsIiwibG9naW4iLCJib3hfdXNlcl9pZCIsImlkIiwiYm94X29hdXRoX3Rva2VuIiwiYWNjZXNzX3Rva2VuIiwiYm94X29hdXRoX3JlZnJlc2hfdG9rZW4iLCJib3hfb2F1dGhfZXhwaXJlc19hdCIsInRvSVNPU3RyaW5nIiwiYm94X2FjY291bnRfdHlwZSIsImVxIiwibWVzc2FnZSIsImdldFVzZXJCb3hUb2tlbiIsImRhdGEiLCJ1c2VyIiwic2VsZWN0Iiwic2luZ2xlIiwibmV3RXhwaXJlc0F0IiwicmVmcmVzaEVycm9yIiwiY29uc29sZSIsImFkZFVzZXJUb0JveEZvbGRlciIsImZvbGRlcklkIiwidXNlckJveElkIiwicm9sZSIsImdldEFwcEF1dGhBY2Nlc3NUb2tlbiIsIml0ZW0iLCJ0eXBlIiwiYWNjZXNzaWJsZV9ieSIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/box-oauth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/box.ts":
/*!************************!*\
  !*** ./src/lib/box.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createProjectFolderStructure: () => (/* binding */ createProjectFolderStructure),\n/* harmony export */   ensureProjectFolder: () => (/* binding */ ensureProjectFolder)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction getEnv(name) {\n    const v = process.env[name];\n    if (!v) throw new Error(`Env ${name} is not set`);\n    return v;\n}\nasync function getAppAuthAccessToken() {\n    const clientID = getEnv(\"BOX_CLIENT_ID\");\n    const clientSecret = getEnv(\"BOX_CLIENT_SECRET\");\n    const enterpriseId = getEnv(\"BOX_ENTERPRISE_ID\");\n    const privateKey = getEnv(\"BOX_JWT_PRIVATE_KEY\").replace(/\\\\n/g, \"\\n\");\n    const passphrase = getEnv(\"BOX_JWT_PRIVATE_KEY_PASSPHRASE\");\n    const publicKeyId = getEnv(\"BOX_PUBLIC_KEY_ID\");\n    const now = Math.floor(Date.now() / 1000);\n    const jti = crypto__WEBPACK_IMPORTED_MODULE_1___default().randomBytes(16).toString(\"hex\") // 32 chars hex\n    ;\n    const claims = {\n        iss: clientID,\n        sub: enterpriseId,\n        box_sub_type: \"enterprise\",\n        aud: \"https://api.box.com/oauth2/token\",\n        iat: now,\n        exp: now + 30,\n        jti\n    };\n    const signOptions = {\n        algorithm: \"RS256\",\n        header: {\n            alg: \"RS256\",\n            kid: publicKeyId\n        }\n    };\n    const assertion = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(claims, {\n        key: privateKey,\n        passphrase\n    }, signOptions);\n    const body = new URLSearchParams({\n        grant_type: \"urn:ietf:params:oauth:grant-type:jwt-bearer\",\n        client_id: clientID,\n        client_secret: clientSecret,\n        assertion\n    });\n    const res = await fetch(\"https://api.box.com/oauth2/token\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body\n    });\n    if (!res.ok) {\n        const t = await res.text();\n        throw new Error(`Box token error ${res.status}: ${t}`);\n    }\n    const json = await res.json();\n    return json.access_token;\n}\nasync function ensureProjectFolder(options) {\n    const accessToken = await getAppAuthAccessToken();\n    const res = await fetch(\"https://api.box.com/2.0/folders\", {\n        method: \"POST\",\n        headers: {\n            \"Authorization\": `Bearer ${accessToken}`,\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            name: options.name,\n            parent: {\n                id: options.parentFolderId\n            }\n        })\n    });\n    if (!res.ok) {\n        const t = await res.text();\n        throw new Error(`Box create folder error ${res.status}: ${t}`);\n    }\n    const json = await res.json();\n    return {\n        id: json.id\n    };\n}\nasync function createProjectFolderStructure(projectTitle, projectId) {\n    try {\n        const accessToken = await getAppAuthAccessToken();\n        const parentFolderId = getEnv(\"BOX_PROJECTS_ROOT_FOLDER_ID\");\n        // メインプロジェクトフォルダを作成\n        const mainFolderName = `${projectTitle}_${projectId.slice(0, 8)}`;\n        console.log(`Creating main folder: ${mainFolderName}`);\n        const mainFolderRes = await fetch(\"https://api.box.com/2.0/folders\", {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${accessToken}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                name: mainFolderName,\n                parent: {\n                    id: parentFolderId\n                }\n            })\n        });\n        if (!mainFolderRes.ok) {\n            const errorText = await mainFolderRes.text();\n            throw new Error(`Main folder creation failed ${mainFolderRes.status}: ${errorText}`);\n        }\n        const mainFolder = await mainFolderRes.json();\n        const mainFolderId = mainFolder.id;\n        console.log(`✅ Main folder created: ${mainFolderId}`);\n        // サブフォルダを作成\n        const subfolderNames = [\n            \"受取\",\n            \"作業\",\n            \"納品\",\n            \"契約\"\n        ];\n        const subfolders = {};\n        for (const subfolderName of subfolderNames){\n            console.log(`Creating subfolder: ${subfolderName}`);\n            const subfolderRes = await fetch(\"https://api.box.com/2.0/folders\", {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${accessToken}`,\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    name: subfolderName,\n                    parent: {\n                        id: mainFolderId\n                    }\n                })\n            });\n            if (!subfolderRes.ok) {\n                console.warn(`Subfolder creation failed for ${subfolderName}: ${subfolderRes.status}`);\n                continue;\n            }\n            const subfolder = await subfolderRes.json();\n            subfolders[subfolderName] = subfolder.id;\n            console.log(`✅ Subfolder created: ${subfolderName} (${subfolder.id})`);\n        }\n        return {\n            folderId: mainFolderId,\n            subfolders\n        };\n    } catch (error) {\n        console.error(\"❌ Project folder structure creation failed:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVDLElBQUlZO29CQUFhO2dCQUM3QjtZQUNGO1lBRUEsSUFBSSxDQUFDSSxhQUFhNUIsRUFBRSxFQUFFO2dCQUNwQm1CLFFBQVFVLElBQUksQ0FBQyxDQUFDLDhCQUE4QixFQUFFRixjQUFjLEVBQUUsRUFBRUMsYUFBYXpCLE1BQU0sQ0FBQyxDQUFDO2dCQUNyRjtZQUNGO1lBRUEsTUFBTTJCLFlBQWlCLE1BQU1GLGFBQWF4QixJQUFJO1lBQzlDc0IsVUFBVSxDQUFDQyxjQUFjLEdBQUdHLFVBQVVsQixFQUFFO1lBQ3hDTyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxQkFBcUIsRUFBRU8sY0FBYyxFQUFFLEVBQUVHLFVBQVVsQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3ZFO1FBRUEsT0FBTztZQUNMbUIsVUFBVVA7WUFDVkU7UUFDRjtJQUVGLEVBQUUsT0FBT00sT0FBTztRQUNkYixRQUFRYSxLQUFLLENBQUMsK0NBQStDQTtRQUM3RCxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaXZpbC1lbmdpbmVlcmluZy1wbGF0Zm9ybS8uL3NyYy9saWIvYm94LnRzPzY3MDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCwgeyBTaWduT3B0aW9ucyB9IGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJ1xuXG5mdW5jdGlvbiBnZXRFbnYobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgdiA9IHByb2Nlc3MuZW52W25hbWVdXG4gIGlmICghdikgdGhyb3cgbmV3IEVycm9yKGBFbnYgJHtuYW1lfSBpcyBub3Qgc2V0YClcbiAgcmV0dXJuIHZcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QXBwQXV0aEFjY2Vzc1Rva2VuKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IGNsaWVudElEID0gZ2V0RW52KCdCT1hfQ0xJRU5UX0lEJylcbiAgY29uc3QgY2xpZW50U2VjcmV0ID0gZ2V0RW52KCdCT1hfQ0xJRU5UX1NFQ1JFVCcpXG4gIGNvbnN0IGVudGVycHJpc2VJZCA9IGdldEVudignQk9YX0VOVEVSUFJJU0VfSUQnKVxuICBjb25zdCBwcml2YXRlS2V5ID0gZ2V0RW52KCdCT1hfSldUX1BSSVZBVEVfS0VZJykucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpXG4gIGNvbnN0IHBhc3NwaHJhc2UgPSBnZXRFbnYoJ0JPWF9KV1RfUFJJVkFURV9LRVlfUEFTU1BIUkFTRScpXG4gIGNvbnN0IHB1YmxpY0tleUlkID0gZ2V0RW52KCdCT1hfUFVCTElDX0tFWV9JRCcpXG5cbiAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMClcbiAgY29uc3QganRpID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnaGV4JykgLy8gMzIgY2hhcnMgaGV4XG5cbiAgY29uc3QgY2xhaW1zID0ge1xuICAgIGlzczogY2xpZW50SUQsXG4gICAgc3ViOiBlbnRlcnByaXNlSWQsXG4gICAgYm94X3N1Yl90eXBlOiAnZW50ZXJwcmlzZScsXG4gICAgYXVkOiAnaHR0cHM6Ly9hcGkuYm94LmNvbS9vYXV0aDIvdG9rZW4nLFxuICAgIGlhdDogbm93LFxuICAgIGV4cDogbm93ICsgMzAsXG4gICAganRpXG4gIH1cblxuICBjb25zdCBzaWduT3B0aW9uczogU2lnbk9wdGlvbnMgPSB7XG4gICAgYWxnb3JpdGhtOiAnUlMyNTYnLFxuICAgIGhlYWRlcjogeyBhbGc6ICdSUzI1NicsIGtpZDogcHVibGljS2V5SWQgfVxuICB9XG5cbiAgY29uc3QgYXNzZXJ0aW9uID0gand0LnNpZ24oY2xhaW1zLCB7IGtleTogcHJpdmF0ZUtleSwgcGFzc3BocmFzZSB9IGFzIGFueSwgc2lnbk9wdGlvbnMpXG5cbiAgY29uc3QgYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgIGdyYW50X3R5cGU6ICd1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Z3JhbnQtdHlwZTpqd3QtYmVhcmVyJyxcbiAgICBjbGllbnRfaWQ6IGNsaWVudElELFxuICAgIGNsaWVudF9zZWNyZXQ6IGNsaWVudFNlY3JldCxcbiAgICBhc3NlcnRpb25cbiAgfSlcblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYm94LmNvbS9vYXV0aDIvdG9rZW4nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSxcbiAgICBib2R5XG4gIH0pXG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdCA9IGF3YWl0IHJlcy50ZXh0KClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJveCB0b2tlbiBlcnJvciAke3Jlcy5zdGF0dXN9OiAke3R9YClcbiAgfVxuICBjb25zdCBqc29uOiBhbnkgPSBhd2FpdCByZXMuanNvbigpXG4gIHJldHVybiBqc29uLmFjY2Vzc190b2tlbiBhcyBzdHJpbmdcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZVByb2plY3RGb2xkZXIob3B0aW9uczogeyBuYW1lOiBzdHJpbmc7IHBhcmVudEZvbGRlcklkOiBzdHJpbmcgfSk6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+IHtcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCBnZXRBcHBBdXRoQWNjZXNzVG9rZW4oKVxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYm94LmNvbS8yLjAvZm9sZGVycycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiBvcHRpb25zLm5hbWUsIHBhcmVudDogeyBpZDogb3B0aW9ucy5wYXJlbnRGb2xkZXJJZCB9IH0pXG4gIH0pXG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdCA9IGF3YWl0IHJlcy50ZXh0KClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJveCBjcmVhdGUgZm9sZGVyIGVycm9yICR7cmVzLnN0YXR1c306ICR7dH1gKVxuICB9XG4gIGNvbnN0IGpzb246IGFueSA9IGF3YWl0IHJlcy5qc29uKClcbiAgcmV0dXJuIHsgaWQ6IGpzb24uaWQgYXMgc3RyaW5nIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb2plY3RGb2xkZXJTdHJ1Y3R1cmUocHJvamVjdFRpdGxlOiBzdHJpbmcsIHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gIGZvbGRlcklkOiBzdHJpbmc7XG4gIHN1YmZvbGRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCBnZXRBcHBBdXRoQWNjZXNzVG9rZW4oKVxuICAgIGNvbnN0IHBhcmVudEZvbGRlcklkID0gZ2V0RW52KCdCT1hfUFJPSkVDVFNfUk9PVF9GT0xERVJfSUQnKVxuXG4gICAgLy8g44Oh44Kk44Oz44OX44Ot44K444Kn44Kv44OI44OV44Kp44Or44OA44KS5L2c5oiQXG4gICAgY29uc3QgbWFpbkZvbGRlck5hbWUgPSBgJHtwcm9qZWN0VGl0bGV9XyR7cHJvamVjdElkLnNsaWNlKDAsIDgpfWBcbiAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgbWFpbiBmb2xkZXI6ICR7bWFpbkZvbGRlck5hbWV9YClcblxuICAgIGNvbnN0IG1haW5Gb2xkZXJSZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYm94LmNvbS8yLjAvZm9sZGVycycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBtYWluRm9sZGVyTmFtZSxcbiAgICAgICAgcGFyZW50OiB7IGlkOiBwYXJlbnRGb2xkZXJJZCB9XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpZiAoIW1haW5Gb2xkZXJSZXMub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IG1haW5Gb2xkZXJSZXMudGV4dCgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE1haW4gZm9sZGVyIGNyZWF0aW9uIGZhaWxlZCAke21haW5Gb2xkZXJSZXMuc3RhdHVzfTogJHtlcnJvclRleHR9YClcbiAgICB9XG5cbiAgICBjb25zdCBtYWluRm9sZGVyOiBhbnkgPSBhd2FpdCBtYWluRm9sZGVyUmVzLmpzb24oKVxuICAgIGNvbnN0IG1haW5Gb2xkZXJJZCA9IG1haW5Gb2xkZXIuaWQgYXMgc3RyaW5nXG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIE1haW4gZm9sZGVyIGNyZWF0ZWQ6ICR7bWFpbkZvbGRlcklkfWApXG5cbiAgICAvLyDjgrXjg5bjg5Xjgqnjg6vjg4DjgpLkvZzmiJBcbiAgICBjb25zdCBzdWJmb2xkZXJOYW1lcyA9IFsn5Y+X5Y+WJywgJ+S9nOalrScsICfntI3lk4EnLCAn5aWR57SEJ11cbiAgICBjb25zdCBzdWJmb2xkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge31cblxuICAgIGZvciAoY29uc3Qgc3ViZm9sZGVyTmFtZSBvZiBzdWJmb2xkZXJOYW1lcykge1xuICAgICAgY29uc29sZS5sb2coYENyZWF0aW5nIHN1YmZvbGRlcjogJHtzdWJmb2xkZXJOYW1lfWApXG5cbiAgICAgIGNvbnN0IHN1YmZvbGRlclJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5ib3guY29tLzIuMC9mb2xkZXJzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogc3ViZm9sZGVyTmFtZSxcbiAgICAgICAgICBwYXJlbnQ6IHsgaWQ6IG1haW5Gb2xkZXJJZCB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXN1YmZvbGRlclJlcy5vaykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFN1YmZvbGRlciBjcmVhdGlvbiBmYWlsZWQgZm9yICR7c3ViZm9sZGVyTmFtZX06ICR7c3ViZm9sZGVyUmVzLnN0YXR1c31gKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdWJmb2xkZXI6IGFueSA9IGF3YWl0IHN1YmZvbGRlclJlcy5qc29uKClcbiAgICAgIHN1YmZvbGRlcnNbc3ViZm9sZGVyTmFtZV0gPSBzdWJmb2xkZXIuaWQgYXMgc3RyaW5nXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN1YmZvbGRlciBjcmVhdGVkOiAke3N1YmZvbGRlck5hbWV9ICgke3N1YmZvbGRlci5pZH0pYClcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgZm9sZGVySWQ6IG1haW5Gb2xkZXJJZCxcbiAgICAgIHN1YmZvbGRlcnNcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgUHJvamVjdCBmb2xkZXIgc3RydWN0dXJlIGNyZWF0aW9uIGZhaWxlZDonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cblxuIl0sIm5hbWVzIjpbImp3dCIsImNyeXB0byIsImdldEVudiIsIm5hbWUiLCJ2IiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiZ2V0QXBwQXV0aEFjY2Vzc1Rva2VuIiwiY2xpZW50SUQiLCJjbGllbnRTZWNyZXQiLCJlbnRlcnByaXNlSWQiLCJwcml2YXRlS2V5IiwicmVwbGFjZSIsInBhc3NwaHJhc2UiLCJwdWJsaWNLZXlJZCIsIm5vdyIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJqdGkiLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiY2xhaW1zIiwiaXNzIiwic3ViIiwiYm94X3N1Yl90eXBlIiwiYXVkIiwiaWF0IiwiZXhwIiwic2lnbk9wdGlvbnMiLCJhbGdvcml0aG0iLCJoZWFkZXIiLCJhbGciLCJraWQiLCJhc3NlcnRpb24iLCJzaWduIiwia2V5IiwiYm9keSIsIlVSTFNlYXJjaFBhcmFtcyIsImdyYW50X3R5cGUiLCJjbGllbnRfaWQiLCJjbGllbnRfc2VjcmV0IiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwib2siLCJ0IiwidGV4dCIsInN0YXR1cyIsImpzb24iLCJhY2Nlc3NfdG9rZW4iLCJlbnN1cmVQcm9qZWN0Rm9sZGVyIiwib3B0aW9ucyIsImFjY2Vzc1Rva2VuIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcmVudCIsImlkIiwicGFyZW50Rm9sZGVySWQiLCJjcmVhdGVQcm9qZWN0Rm9sZGVyU3RydWN0dXJlIiwicHJvamVjdFRpdGxlIiwicHJvamVjdElkIiwibWFpbkZvbGRlck5hbWUiLCJzbGljZSIsImNvbnNvbGUiLCJsb2ciLCJtYWluRm9sZGVyUmVzIiwiZXJyb3JUZXh0IiwibWFpbkZvbGRlciIsIm1haW5Gb2xkZXJJZCIsInN1YmZvbGRlck5hbWVzIiwic3ViZm9sZGVycyIsInN1YmZvbGRlck5hbWUiLCJzdWJmb2xkZXJSZXMiLCJ3YXJuIiwic3ViZm9sZGVyIiwiZm9sZGVySWQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/box.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&page=%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2F%5Bid%5D%2Fapprove%2Froute.ts&appDir=%2FUsers%2Fsayuri%2Fcaddonworks%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsayuri%2Fcaddonworks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();