(()=>{var e={};e.id=357,e.ids=[357],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},93138:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.ZP,__next_app__:()=>o,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=a(50482),i=a(69108),r=a(83543),l=a(68300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(s,n);let c=["",{children:["files",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,79945)),"/Users/sayuri/caddonworks/src/app/files/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,61623)),"/Users/sayuri/caddonworks/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24117)),"/Users/sayuri/caddonworks/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,48206)),"/Users/sayuri/caddonworks/src/app/not-found.tsx"]}],d=["/Users/sayuri/caddonworks/src/app/files/page.tsx"],x="/files/page",o={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/files/page",pathname:"/files",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},82999:(e,s,a)=>{Promise.resolve().then(a.bind(a,58453))},7060:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25545:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},96885:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},53148:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},56515:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]])},17418:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},47958:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},75695:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},28765:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},23485:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},3380:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},15366:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(69224).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},58453:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Q});var t=a(95344),i=a(3729),r=a(57916),l=a(73644),n=a(37121),c=a(69224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var x=a(56515),o=a(7060);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,c.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var h=a(25545),p=a(68219),u=a(23485),j=a(3380);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,c.Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var v=a(47958),y=a(28765),N=a(17418);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,c.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),b=(0,c.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var w=a(53148);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,c.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var Z=a(96885),C=a(15366),z=a(83655),M=a(5094),_=a(23673),S=a(19591),D=a(26298),P=a(45136);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let E=(0,c.Z)("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);var q=a(14513);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let A=(0,c.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function B({isOpen:e,onClose:s}){let[a,c]=(0,i.useState)(!1),[p,v]=(0,i.useState)([]),[y,N]=(0,i.useState)(""),f=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},[]),b=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c(!1),w(Array.from(e.dataTransfer.files))},[]),w=e=>{let s=e.map((e,s)=>({id:`${Date.now()}-${s}`,file:e,progress:0,status:"uploading"}));v(e=>[...e,...s]),s.forEach((e,s)=>{k(e.id,500*s)})},k=(e,s)=>{setTimeout(()=>{let s=setInterval(()=>{v(a=>a.map(a=>{if(a.id===e&&"uploading"===a.status){let t=a.progress+15*Math.random();return t>=100?(clearInterval(s),setTimeout(()=>{v(s=>s.map(s=>s.id===e?{...s,status:"scanning",progress:0}:s)),Z(e)},500),{...a,progress:100,status:"uploading"}):{...a,progress:t}}return a}))},200)},s)},Z=e=>{let s=setInterval(()=>{v(a=>a.map(a=>{if(a.id===e&&"scanning"===a.status){let t=a.progress+20*Math.random();if(t>=100){clearInterval(s);let t=Math.random()>.95?"infected":"clean";return setTimeout(()=>{v(s=>s.map(s=>s.id===e?{...s,status:"infected"===t?"error":"success",progress:100,scanResult:t}:s))},300),{...a,progress:100}}return{...a,progress:t}}return a}))},150)},C=e=>{switch(e.split(".").pop()?.toLowerCase()){case"dwg":case"dxf":case"docx":case"doc":return t.jsx(n.Z,{className:"w-8 h-8 text-blue-600"});case"pdf":return t.jsx(n.Z,{className:"w-8 h-8 text-red-600"});case"xlsx":case"xls":return t.jsx(n.Z,{className:"w-8 h-8 text-green-600"});case"jpg":case"jpeg":case"png":return t.jsx(d,{className:"w-8 h-8 text-purple-600"});case"zip":case"rar":return t.jsx(g,{className:"w-8 h-8 text-orange-600"});default:return t.jsx(x.Z,{className:"w-8 h-8 text-gray-600"})}},z=(e,s)=>{switch(e){case"uploading":return t.jsx(j.Z,{className:"w-4 h-4 text-blue-500 animate-pulse"});case"scanning":return t.jsx(E,{className:"w-4 h-4 text-yellow-500 animate-spin"});case"success":return"clean"===s?t.jsx(o.Z,{className:"w-4 h-4 text-green-500"}):t.jsx(m,{className:"w-4 h-4 text-orange-500"});case"error":return t.jsx(m,{className:"w-4 h-4 text-red-500"});default:return t.jsx(h.Z,{className:"w-4 h-4 text-gray-400"})}},_=e=>{if(0===e)return"0 Byte";let s=parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString());return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]},P=e=>{v(s=>s.filter(s=>s.id!==e))};return e?t.jsx(l.M,{children:t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:s,children:(0,t.jsxs)(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-engineering-blue/10 rounded-lg",children:t.jsx(j.Z,{className:"w-5 h-5 text-engineering-blue"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ファイルアップロード"}),t.jsx("p",{className:"text-gray-600",children:"セキュリティスキャン付きファイル管理システム"})]})]}),t.jsx(M.z,{variant:"ghost",size:"icon",onClick:s,children:t.jsx(q.Z,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 max-h-[75vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"関連プロジェクト"}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",value:y,onChange:e=>N(e.target.value),children:[t.jsx("option",{value:"",children:"プロジェクトを選択"}),["東京都道路設計業務","橋梁点検業務","河川改修設計","トンネル設計業務","地下構造物設計"].map(e=>t.jsx("option",{value:e,children:e},e))]})]}),(0,t.jsxs)(r.E.div,{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${a?"border-engineering-blue bg-engineering-blue/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:b,whileHover:{scale:1.01},whileTap:{scale:.99},children:[t.jsx(j.Z,{className:`w-16 h-16 mx-auto mb-4 ${a?"text-engineering-blue":"text-gray-400"}`}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ファイルをドラッグ&ドロップ"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:["または ",t.jsx("button",{className:"text-engineering-blue hover:underline",children:"クリックして選択"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(u.Z,{className:"w-4 h-4"}),"ウイルススキャン"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(n.Z,{className:"w-4 h-4"}),"CAD/PDF/Excel対応"]})]})]}),t.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(A,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"セキュリティ保護"}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"アップロードされたファイルは自動的にClamAVでスキャンされ、 SHA-256ハッシュで整合性を確認します。Box APIを通じて暗号化保存されます。"})]})]})}),p.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["アップロード進捗 (",p.length,")"]}),t.jsx("div",{className:"space-y-4",children:p.map(e=>(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[C(e.file.name),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-medium text-gray-900 truncate",children:e.file.name}),t.jsx("p",{className:"text-sm text-gray-600",children:_(e.file.size)}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["uploading"===e.status&&"アップロード中...","scanning"===e.status&&"セキュリティスキャン中...","success"===e.status&&("clean"===e.scanResult?"完了 - 安全":"完了 - 要確認"),"error"===e.status&&"エラー - ウイルス検出"]}),(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:[Math.round(e.progress),"%"]})]}),t.jsx(D.E,{value:e.progress,variant:"error"===e.status?"engineering":"success"===e.status?"default":"engineering"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(S.C,{variant:"error"===e.status?"destructive":"success"===e.status?"success":"secondary",className:"flex items-center gap-1",children:[z(e.status,e.scanResult),e.status]}),t.jsx(M.z,{variant:"ghost",size:"sm",onClick:()=>P(e.id),children:t.jsx(q.Z,{className:"w-4 h-4"})})]})]}),"success"===e.status&&e.scanResult&&t.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(u.Z,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-green-700",children:"clean"===e.scanResult?"ウイルス未検出 - ファイルは安全です":"要注意ファイル - 管理者確認が必要です"})]})}),"error"===e.status&&t.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-700",children:[t.jsx(m,{className:"w-4 h-4"}),t.jsx("span",{children:"セキュリティ脅威が検出されました。ファイルはアップロードされていません。"})]})})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-600",children:"最大ファイルサイズ: 500MB | 対応形式: DWG, PDF, Excel, Word, 画像"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(M.z,{variant:"ghost",onClick:s,children:"閉じる"}),t.jsx(M.z,{variant:"engineering",disabled:0===p.length||p.some(e=>"uploading"===e.status||"scanning"===e.status),children:"完了"})]})]})]})})}):null}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let T=(0,c.Z)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),I=(0,c.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),O=(0,c.Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),$=(0,c.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);var L=a(18822);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let R=(0,c.Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Y=(0,c.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),U=i.forwardRef(({className:e="",...s},a)=>t.jsx("div",{ref:a,className:`border-t border-gray-200 ${e}`,...s}));function V({fileId:e,onClose:s}){let[a,c]=(0,i.useState)(100),[d,x]=(0,i.useState)(0),p={name:"道路設計図面_Rev3.dwg",type:"dwg",size:1542e4,uploadedAt:"2024-01-18T10:30:00Z",uploadedBy:"田中太郎",project:"東京都道路設計業務",version:3,status:"approved",scanStatus:"clean",checkOutBy:"田中太郎",downloadCount:12,lastAccessed:"2024-01-18T14:15:00Z",metadata:{drawing_number:"RD-001",scale:"1:1000",revision:"Rev.3",approval_status:"承認済み",drawing_type:"平面図",coordinate_system:"平面直角座標系",created_by:"CADソフト v2024",last_modified:"2024-01-18T10:30:00Z"},permissions:{canView:!0,canDownload:!0,canEdit:!0,canShare:!1},tags:["図面","道路","平面図"],auditLog:[{action:"viewed",user:"田中太郎",timestamp:"2024-01-18T14:15:00Z",ip:"192.168.1.100"},{action:"downloaded",user:"佐藤花子",timestamp:"2024-01-18T11:30:00Z",ip:"192.168.1.101"},{action:"checked_out",user:"田中太郎",timestamp:"2024-01-18T10:45:00Z",ip:"192.168.1.100"}]},j=e=>{if(0===e)return"0 Byte";let s=parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString());return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]},g=e=>{switch(e){case"clean":return t.jsx(o.Z,{className:"w-4 h-4 text-green-500"});case"infected":return t.jsx(m,{className:"w-4 h-4 text-red-500"});case"scanning":return t.jsx(h.Z,{className:"w-4 h-4 text-yellow-500 animate-spin"});default:return t.jsx(h.Z,{className:"w-4 h-4 text-gray-400"})}};return t.jsx(l.M,{children:t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 flex z-50",onClick:s,children:(0,t.jsxs)(r.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full h-full flex",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/10 backdrop-blur-sm border-b border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(n.Z,{className:"w-6 h-6 text-white"}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-white",children:p.name}),(0,t.jsxs)("p",{className:"text-sm text-white/70",children:["v",p.version," • ",j(p.size)," • ",p.project]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(M.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:[t.jsx(T,{className:"w-4 h-4"}),a,"%",t.jsx(I,{className:"w-4 h-4"})]}),t.jsx(M.z,{variant:"ghost",size:"sm",onClick:()=>x((d+90)%360),className:"text-white hover:bg-white/20",children:t.jsx(O,{className:"w-4 h-4"})}),t.jsx(M.z,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:t.jsx($,{className:"w-4 h-4"})}),t.jsx(M.z,{variant:"ghost",size:"icon",onClick:s,className:"text-white hover:bg-white/20",children:t.jsx(q.Z,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex items-center justify-center p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-4 left-4 z-10",children:(0,t.jsxs)(S.C,{variant:"glass",className:"text-white border-white/30",children:[t.jsx(u.Z,{className:"w-3 h-3 mr-1"}),"セキュア プレビュー"]})}),t.jsx(r.E.div,{className:"relative max-w-full max-h-full bg-white rounded-lg shadow-2xl overflow-hidden",style:{transform:`scale(${a/100}) rotate(${d}deg)`},animate:{transform:`scale(${a/100}) rotate(${d}deg)`},transition:{type:"spring",stiffness:300,damping:30},children:(0,t.jsxs)("div",{className:"w-[800px] h-[600px] bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center relative",children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"grid grid-cols-4 grid-rows-3 h-full",children:Array.from({length:12}).map((e,s)=>t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"transform rotate-45 text-2xl font-bold text-gray-600",children:p.project.substring(0,4)})},s))})}),(0,t.jsxs)("div",{className:"relative z-10 text-center",children:[t.jsx(n.Z,{className:"w-32 h-32 text-blue-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:p.name}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:["図面番号: ",p.metadata.drawing_number]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,t.jsxs)("div",{children:["縮尺: ",p.metadata.scale]}),(0,t.jsxs)("div",{children:["種別: ",p.metadata.drawing_type]})]}),(0,t.jsxs)("div",{className:"mt-8 flex justify-center space-x-4",children:[t.jsx("div",{className:"w-16 h-2 bg-blue-500"}),t.jsx("div",{className:"w-24 h-2 bg-green-500"}),t.jsx("div",{className:"w-12 h-2 bg-red-500"})]}),t.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"※ この画面は透かし付きプレビューです"})]})]})}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-black/50 backdrop-blur-sm rounded-full px-4 py-2",children:[t.jsx(M.z,{variant:"ghost",size:"sm",onClick:()=>c(Math.max(a-25,25)),disabled:a<=25,className:"text-white hover:bg-white/20",children:t.jsx(T,{className:"w-4 h-4"})}),(0,t.jsxs)("span",{className:"text-white text-sm font-medium",children:[a,"%"]}),t.jsx(M.z,{variant:"ghost",size:"sm",onClick:()=>c(Math.min(a+25,200)),disabled:a>=200,className:"text-white hover:bg-white/20",children:t.jsx(I,{className:"w-4 h-4"})})]})})]}),t.jsx("div",{className:"p-4 bg-white/10 backdrop-blur-sm border-t border-white/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(S.C,{variant:"glass",className:"text-white border-white/30",children:[g(p.scanStatus),"セキュリティ: ",p.scanStatus]}),(0,t.jsxs)(S.C,{variant:"glass",className:"text-white border-white/30",children:[t.jsx(L.Z,{className:"w-3 h-3 mr-1"}),"チェックアウト: ",p.checkOutBy]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(M.z,{variant:"ghost",size:"sm",disabled:!p.permissions.canDownload,className:"text-white hover:bg-white/20",children:[t.jsx(Z.Z,{className:"w-4 h-4 mr-2"}),"ダウンロード"]}),(0,t.jsxs)(M.z,{variant:"ghost",size:"sm",disabled:!p.permissions.canShare,className:"text-white hover:bg-white/20",children:[t.jsx(R,{className:"w-4 h-4 mr-2"}),"共有"]})]})]})})]}),t.jsx(r.E.div,{initial:{x:300},animate:{x:0},exit:{x:300},className:"w-80 bg-white h-full overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{className:"pb-3",children:(0,t.jsxs)(_.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(A,{className:"w-5 h-5"}),"ファイル情報"]})}),(0,t.jsxs)(_.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsx("div",{className:"text-gray-600",children:"ファイル形式:"}),t.jsx("div",{className:"font-medium",children:p.type.toUpperCase()}),t.jsx("div",{className:"text-gray-600",children:"ファイルサイズ:"}),t.jsx("div",{className:"font-medium",children:j(p.size)}),t.jsx("div",{className:"text-gray-600",children:"バージョン:"}),(0,t.jsxs)("div",{className:"font-medium",children:["v",p.version]}),t.jsx("div",{className:"text-gray-600",children:"ステータス:"}),t.jsx("div",{children:t.jsx(S.C,{variant:"success",className:"text-xs",children:p.status})})]}),t.jsx(U,{}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"アップロード者:"}),t.jsx("span",{className:"font-medium",children:p.uploadedBy})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"アップロード日:"}),t.jsx("span",{children:new Date(p.uploadedAt).toLocaleDateString("ja-JP")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"最終アクセス:"}),t.jsx("span",{children:new Date(p.lastAccessed).toLocaleString("ja-JP")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"ダウンロード回数:"}),(0,t.jsxs)("span",{children:[p.downloadCount,"回"]})]})]})]})]}),(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{className:"pb-3",children:(0,t.jsxs)(_.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(n.Z,{className:"w-5 h-5"}),"技術メタデータ"]})}),t.jsx(_.aY,{className:"space-y-2 text-sm",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("div",{className:"text-gray-600",children:"図面番号:"}),t.jsx("div",{className:"font-medium",children:p.metadata.drawing_number}),t.jsx("div",{className:"text-gray-600",children:"縮尺:"}),t.jsx("div",{className:"font-medium",children:p.metadata.scale}),t.jsx("div",{className:"text-gray-600",children:"リビジョン:"}),t.jsx("div",{className:"font-medium",children:p.metadata.revision}),t.jsx("div",{className:"text-gray-600",children:"図面種別:"}),t.jsx("div",{className:"font-medium",children:p.metadata.drawing_type}),t.jsx("div",{className:"text-gray-600",children:"座標系:"}),t.jsx("div",{className:"font-medium text-xs",children:p.metadata.coordinate_system}),t.jsx("div",{className:"text-gray-600",children:"作成ソフト:"}),t.jsx("div",{className:"font-medium text-xs",children:p.metadata.created_by})]})})]}),(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{className:"pb-3",children:(0,t.jsxs)(_.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(Y,{className:"w-5 h-5"}),"タグ"]})}),t.jsx(_.aY,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(e=>t.jsx(S.C,{variant:"outline",children:e},e))})})]}),(0,t.jsxs)(_.Zb,{children:[(0,t.jsxs)(_.Ol,{className:"pb-3",children:[(0,t.jsxs)(_.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(u.Z,{className:"w-5 h-5"}),"アクセスログ"]}),t.jsx(_.SZ,{children:"直近のファイルアクセス履歴"})]}),t.jsx(_.aY,{children:t.jsx("div",{className:"space-y-3",children:p.auditLog.slice(0,5).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[t.jsx("div",{className:"w-2 h-2 bg-engineering-blue rounded-full mt-2 shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:e.action}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleDateString("ja-JP")})]}),(0,t.jsxs)("div",{className:"text-gray-600",children:[e.user," (",e.ip,")"]})]})]},s))})})]}),(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{className:"pb-3",children:(0,t.jsxs)(_.ll,{className:"text-lg flex items-center gap-2",children:[t.jsx(u.Z,{className:"w-5 h-5"}),"セキュリティ状態"]})}),(0,t.jsxs)(_.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[g(p.scanStatus),t.jsx("span",{className:"font-medium text-green-700",children:"ウイルススキャン: 脅威なし"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(v.Z,{className:"w-4 h-4 text-engineering-blue"}),t.jsx("span",{className:"font-medium text-engineering-blue",children:"Box API暗号化済み"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(o.Z,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"font-medium text-green-700",children:"SHA-256ハッシュ検証済み"})]})]})]})]})})]})})})}U.displayName="Separator";var H=a(13746),G=a(89895),F=a(75695);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let J=(0,c.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var K=a(11453);let W=i.forwardRef(({checked:e=!1,onCheckedChange:s,disabled:a=!1,className:i},r)=>t.jsx("button",{type:"button",role:"switch","aria-checked":e,disabled:a,ref:r,className:(0,K.cn)("relative inline-flex h-5 w-9 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-engineering-blue focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e?"bg-engineering-blue":"bg-gray-200",i),onClick:()=>!a&&s?.(!e),children:t.jsx("span",{className:(0,K.cn)("pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",e?"translate-x-4":"translate-x-0")})}));function X({fileId:e,onClose:s}){let[a,n]=(0,i.useState)("permissions"),c={name:"道路設計図面_Rev3.dwg",permissions:{view:{enabled:!0,users:["田中太郎","佐藤花子","山田次郎","監督員"]},download:{enabled:!0,users:["田中太郎","佐藤花子"]},edit:{enabled:!0,users:["田中太郎"]},share:{enabled:!1,users:[]}},settings:{requireApprovalForDownload:!0,watermarkEnabled:!0,expirationDate:"2024-06-30",ipRestrictions:["192.168.1.0/24","10.0.0.0/8"],maxDownloads:50,currentDownloads:12}},d=(e,s)=>{},x=e=>{switch(e){case"viewed":return t.jsx(w.Z,{className:"w-4 h-4 text-blue-500"});case"downloaded":return t.jsx(Z.Z,{className:"w-4 h-4 text-green-500"});case"download_requested":return t.jsx(h.Z,{className:"w-4 h-4 text-yellow-500"});case"access_denied":return t.jsx(m,{className:"w-4 h-4 text-red-500"});default:return t.jsx(H.Z,{className:"w-4 h-4 text-gray-500"})}},p=e=>({viewed:"プレビュー",downloaded:"ダウンロード",download_requested:"ダウンロード要求",access_denied:"アクセス拒否"})[e]||e;return t.jsx(l.M,{children:t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:s,children:(0,t.jsxs)(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-engineering-blue/10 rounded-lg",children:t.jsx(u.Z,{className:"w-5 h-5 text-engineering-blue"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"アクセス制御"}),t.jsx("p",{className:"text-gray-600",children:c.name})]})]}),t.jsx(M.z,{variant:"ghost",size:"icon",onClick:s,children:t.jsx(q.Z,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex px-6",children:[{id:"permissions",label:"権限管理",icon:C.Z},{id:"history",label:"アクセス履歴",icon:h.Z},{id:"settings",label:"セキュリティ設定",icon:H.Z}].map(e=>(0,t.jsxs)("button",{onClick:()=>n(e.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${a===e.id?"border-engineering-blue text-engineering-blue":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[t.jsx(e.icon,{className:"w-4 h-4"}),e.label]},e.id))})}),t.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:(0,t.jsxs)(l.M,{mode:"wait",children:["permissions"===a&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,t.jsxs)(_.Zb,{children:[(0,t.jsxs)(_.Ol,{children:[(0,t.jsxs)(_.ll,{className:"flex items-center gap-2",children:[t.jsx(G.Z,{className:"w-5 h-5"}),"ユーザー権限マトリックス"]}),t.jsx(_.SZ,{children:"各ユーザーのファイルアクセス権限を管理"})]}),t.jsx(_.aY,{children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4",children:"ユーザー"}),(0,t.jsxs)("th",{className:"text-center py-3 px-4",children:[t.jsx(w.Z,{className:"w-4 h-4 mx-auto"}),t.jsx("span",{className:"text-xs block mt-1",children:"閲覧"})]}),(0,t.jsxs)("th",{className:"text-center py-3 px-4",children:[t.jsx(Z.Z,{className:"w-4 h-4 mx-auto"}),t.jsx("span",{className:"text-xs block mt-1",children:"DL"})]}),(0,t.jsxs)("th",{className:"text-center py-3 px-4",children:[t.jsx(F.Z,{className:"w-4 h-4 mx-auto"}),t.jsx("span",{className:"text-xs block mt-1",children:"編集"})]}),(0,t.jsxs)("th",{className:"text-center py-3 px-4",children:[t.jsx(R,{className:"w-4 h-4 mx-auto"}),t.jsx("span",{className:"text-xs block mt-1",children:"共有"})]})]})}),t.jsx("tbody",{children:[{id:"1",name:"田中太郎",role:"プロジェクトマネージャー",department:"設計部",status:"active"},{id:"2",name:"佐藤花子",role:"設計エンジニア",department:"設計部",status:"active"},{id:"3",name:"山田次郎",role:"CADオペレータ",department:"設計部",status:"active"},{id:"4",name:"監督員",role:"品質管理者",department:"品質管理部",status:"active"},{id:"5",name:"中村健太",role:"設計エンジニア",department:"設計部",status:"active"}].map((e,s)=>(0,t.jsxs)(r.E.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"border-b border-gray-100 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-engineering-blue text-white rounded-full flex items-center justify-center text-sm font-medium",children:e.name.charAt(0)}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),t.jsx("div",{className:"text-sm text-gray-600",children:e.role})]})]})}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx(W,{checked:c.permissions.view.users.includes(e.name),onCheckedChange:()=>d("view",e.id)})}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx(W,{checked:c.permissions.download.users.includes(e.name),onCheckedChange:()=>d("download",e.id)})}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx(W,{checked:c.permissions.edit.users.includes(e.name),onCheckedChange:()=>d("edit",e.id)})}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx(W,{checked:c.permissions.share.users.includes(e.name),onCheckedChange:()=>d("share",e.id)})})]},e.id))})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(_.Zb,{children:(0,t.jsxs)(_.aY,{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"一括設定"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(M.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsx(C.Z,{className:"w-4 h-4 mr-2"}),"チーム全員に閲覧権限"]}),(0,t.jsxs)(M.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"管理者のみアクセス"]})]})]})}),t.jsx(_.Zb,{children:(0,t.jsxs)(_.aY,{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"テンプレート"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(M.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsx(H.Z,{className:"w-4 h-4 mr-2"}),"設計チーム標準"]}),(0,t.jsxs)(M.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"機密ファイル設定"]})]})]})})]})]},"permissions"),"history"===a&&t.jsx(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:(0,t.jsxs)(_.Zb,{children:[(0,t.jsxs)(_.Ol,{children:[(0,t.jsxs)(_.ll,{className:"flex items-center gap-2",children:[t.jsx(h.Z,{className:"w-5 h-5"}),"アクセス履歴"]}),t.jsx(_.SZ,{children:"ファイルへのアクセス履歴と承認状況"})]}),t.jsx(_.aY,{children:t.jsx("div",{className:"space-y-4",children:[{id:"1",user:"田中太郎",action:"downloaded",timestamp:"2024-01-18T14:15:00Z",ip:"192.168.1.100",device:"Windows PC",approved:!0,approver:null},{id:"2",user:"佐藤花子",action:"viewed",timestamp:"2024-01-18T11:30:00Z",ip:"192.168.1.101",device:"MacBook",approved:!0,approver:null},{id:"3",user:"山田次郎",action:"download_requested",timestamp:"2024-01-18T09:20:00Z",ip:"192.168.1.102",device:"iPad",approved:!1,approver:null},{id:"4",user:"外部協力者A",action:"access_denied",timestamp:"2024-01-17T16:45:00Z",ip:"203.104.1.50",device:"Unknown",approved:!1,approver:null}].map((e,s)=>(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:x(e.action)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium",children:e.user}),t.jsx("span",{className:"text-gray-600",children:p(e.action)})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.timestamp).toLocaleString("ja-JP")," •",e.ip," • ",e.device]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:e.approved?(0,t.jsxs)(S.C,{variant:"success",className:"flex items-center gap-1",children:[t.jsx(o.Z,{className:"w-3 h-3"}),"承認済み"]}):"access_denied"===e.action?(0,t.jsxs)(S.C,{variant:"destructive",className:"flex items-center gap-1",children:[t.jsx(m,{className:"w-3 h-3"}),"拒否"]}):(0,t.jsxs)(S.C,{variant:"warning",className:"flex items-center gap-1",children:[t.jsx(h.Z,{className:"w-3 h-3"}),"承認待ち"]})})]},e.id))})})]})},"history"),"settings"===a&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{children:(0,t.jsxs)(_.ll,{className:"flex items-center gap-2",children:[t.jsx(u.Z,{className:"w-5 h-5"}),"セキュリティ設定"]})}),(0,t.jsxs)(_.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:"ダウンロード承認要求"}),t.jsx("div",{className:"text-sm text-gray-600",children:"管理者承認後にDL可能"})]}),t.jsx(W,{checked:c.settings.requireApprovalForDownload,onCheckedChange:()=>{}})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:"透かし表示"}),t.jsx("div",{className:"text-sm text-gray-600",children:"プレビューに透かしを表示"})]}),t.jsx(W,{checked:c.settings.watermarkEnabled,onCheckedChange:()=>{}})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"アクセス期限"}),t.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",value:c.settings.expirationDate,onChange:()=>{}})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ダウンロード上限"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",value:c.settings.maxDownloads,onChange:()=>{}}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["/ ",c.settings.currentDownloads,"回使用済み"]})]})]})]})]}),(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{children:(0,t.jsxs)(_.ll,{className:"flex items-center gap-2",children:[t.jsx(J,{className:"w-5 h-5"}),"IP制限設定"]})}),t.jsx(_.aY,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"許可IPアドレス/レンジ"}),t.jsx("div",{className:"space-y-2",children:c.settings.ipRestrictions.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[t.jsx("span",{className:"font-mono text-sm",children:e}),t.jsx(M.z,{variant:"ghost",size:"sm",children:t.jsx(q.Z,{className:"w-3 h-3"})})]},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",placeholder:"192.168.1.0/24",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent"}),t.jsx(M.z,{variant:"outline",size:"sm",children:"追加"})]})]})})]})]}),(0,t.jsxs)(_.Zb,{children:[t.jsx(_.Ol,{children:(0,t.jsxs)(_.ll,{className:"flex items-center gap-2",children:[t.jsx(H.Z,{className:"w-5 h-5"}),"監査・ログ設定"]})}),t.jsx(_.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:"詳細ログ記録"}),t.jsx("div",{className:"text-xs text-gray-600",children:"全操作をログに記録"})]}),t.jsx(W,{checked:!0,onCheckedChange:()=>{}})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:"リアルタイム通知"}),t.jsx("div",{className:"text-xs text-gray-600",children:"アクセス時に即座に通知"})]}),t.jsx(W,{checked:!0,onCheckedChange:()=>{}})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:"月次レポート"}),t.jsx("div",{className:"text-xs text-gray-600",children:"利用状況の定期レポート"})]}),t.jsx(W,{checked:!1,onCheckedChange:()=>{}})]})]})})]})]},"settings")]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["最終更新: ",new Date().toLocaleString("ja-JP")]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(M.z,{variant:"ghost",onClick:s,children:"キャンセル"}),t.jsx(M.z,{variant:"engineering",children:"設定を保存"})]})]})]})})})}function Q(){let[e,s]=(0,i.useState)("grid"),[a,c]=(0,i.useState)([]),[E,q]=(0,i.useState)(!1),[A,T]=(0,i.useState)(null),[I,O]=(0,i.useState)(null),$=[{id:"1",name:"道路設計図面_Rev3.dwg",type:"dwg",size:1542e4,uploadedAt:"2024-01-18T10:30:00Z",uploadedBy:"田中太郎",project:"東京都道路設計業務",version:3,status:"approved",scanStatus:"clean",checkInStatus:"checked_out",checkOutBy:"田中太郎",previewUrl:"/preview/road-design.jpg",downloadCount:12,lastAccessed:"2024-01-18T14:15:00Z",metadata:{drawing_number:"RD-001",scale:"1:1000",revision:"Rev.3",approval_status:"承認済み"},permissions:{canView:!0,canDownload:!0,canEdit:!0,canShare:!1},tags:["図面","道路","平面図"]},{id:"2",name:"橋梁点検報告書.pdf",type:"pdf",size:865e4,uploadedAt:"2024-01-17T15:45:00Z",uploadedBy:"佐藤花子",project:"橋梁点検業務",version:1,status:"under_review",scanStatus:"clean",checkInStatus:"checked_in",checkOutBy:null,previewUrl:"/preview/bridge-report.jpg",downloadCount:5,lastAccessed:"2024-01-18T09:20:00Z",metadata:{document_type:"点検報告書",inspection_date:"2024-01-15",inspector:"佐藤花子"},permissions:{canView:!0,canDownload:!1,canEdit:!1,canShare:!1},tags:["報告書","点検","橋梁"]},{id:"3",name:"地質調査データ.xlsx",type:"xlsx",size:234e4,uploadedAt:"2024-01-16T11:20:00Z",uploadedBy:"山田次郎",project:"河川改修設計",version:2,status:"draft",scanStatus:"scanning",checkInStatus:"checked_in",checkOutBy:null,previewUrl:"/preview/geological-data.jpg",downloadCount:8,lastAccessed:"2024-01-17T16:30:00Z",metadata:{data_type:"地質調査",survey_date:"2024-01-10",location:"千葉県市川市"},permissions:{canView:!0,canDownload:!0,canEdit:!0,canShare:!0},tags:["データ","地質","調査"]},{id:"4",name:"施工計画書_最終版.docx",type:"docx",size:428e4,uploadedAt:"2024-01-15T08:45:00Z",uploadedBy:"中村健太",project:"トンネル設計業務",version:5,status:"final",scanStatus:"clean",checkInStatus:"locked",checkOutBy:"監督員",previewUrl:"/preview/construction-plan.jpg",downloadCount:25,lastAccessed:"2024-01-18T13:10:00Z",metadata:{document_type:"施工計画書",approval_date:"2024-01-14",approved_by:"監督員"},permissions:{canView:!0,canDownload:!0,canEdit:!1,canShare:!1},tags:["計画書","施工","トンネル"]}],L=e=>({dwg:t.jsx(n.Z,{className:"w-8 h-8 text-blue-600"}),pdf:t.jsx(n.Z,{className:"w-8 h-8 text-red-600"}),xlsx:t.jsx(n.Z,{className:"w-8 h-8 text-green-600"}),docx:t.jsx(n.Z,{className:"w-8 h-8 text-blue-600"}),jpg:t.jsx(d,{className:"w-8 h-8 text-purple-600"}),png:t.jsx(d,{className:"w-8 h-8 text-purple-600"})})[e]||t.jsx(x.Z,{className:"w-8 h-8 text-gray-600"}),R=e=>{switch(e){case"clean":return t.jsx(o.Z,{className:"w-4 h-4 text-green-500"});case"infected":return t.jsx(m,{className:"w-4 h-4 text-red-500"});case"scanning":return t.jsx(h.Z,{className:"w-4 h-4 text-yellow-500 animate-spin"});default:return t.jsx(h.Z,{className:"w-4 h-4 text-gray-400"})}},Y=e=>{if(0===e)return"0 Byte";let s=parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString());return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-mesh",children:[t.jsx(z.W,{}),(0,t.jsxs)("div",{className:"md:ml-64 transition-all duration-300",children:[t.jsx(r.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-30",children:t.jsx("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[t.jsx(p.Z,{className:"w-6 h-6 text-engineering-blue"}),"ファイル管理システム"]}),t.jsx("p",{className:"text-gray-600",children:"Box API連携セキュアファイル管理 (VDR)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(S.C,{variant:"engineering",className:"animate-pulse",children:[t.jsx(u.Z,{className:"w-3 h-3 mr-1"}),"セキュア"]}),(0,t.jsxs)(M.z,{variant:"outline",onClick:()=>q(!0),children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"アップロード"]})]})]})})}),(0,t.jsxs)("main",{className:"px-6 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx(_.Zb,{className:"hover-lift",children:t.jsx(_.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"総ファイル数"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"1,247"})]}),t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(n.Z,{className:"w-6 h-6 text-blue-600"})})]})})}),t.jsx(_.Zb,{className:"hover-lift",children:t.jsx(_.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"ストレージ使用量"}),t.jsx("p",{className:"text-2xl font-bold text-engineering-blue",children:"847 GB"}),t.jsx(D.E,{value:65,variant:"engineering",className:"mt-2"})]}),t.jsx("div",{className:"p-3 bg-engineering-blue/10 rounded-lg",children:t.jsx(g,{className:"w-6 h-6 text-engineering-blue"})})]})})}),t.jsx(_.Zb,{className:"hover-lift",children:t.jsx(_.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"セキュリティスキャン"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:"100%"}),t.jsx("p",{className:"text-xs text-green-600",children:"全ファイル安全"})]}),t.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:t.jsx(u.Z,{className:"w-6 h-6 text-green-600"})})]})})}),t.jsx(_.Zb,{className:"hover-lift",children:t.jsx(_.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"アクセス制御"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"VDR"}),t.jsx("p",{className:"text-xs text-purple-600",children:"完全閉域"})]}),t.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:t.jsx(v.Z,{className:"w-6 h-6 text-purple-600"})})]})})})]}),t.jsx(_.Zb,{className:"mb-8",children:t.jsx(_.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[t.jsx(y.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"ファイル名、プロジェクト、タグで検索...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(M.z,{variant:"outline",children:[t.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"フィルター"]}),(0,t.jsxs)("div",{className:"flex border border-gray-200 rounded-lg overflow-hidden",children:[t.jsx(M.z,{variant:"grid"===e?"engineering":"ghost",size:"sm",onClick:()=>s("grid"),className:"rounded-none border-none",children:t.jsx(f,{className:"w-4 h-4"})}),t.jsx(M.z,{variant:"list"===e?"engineering":"ghost",size:"sm",onClick:()=>s("list"),className:"rounded-none border-none border-l border-gray-200",children:t.jsx(b,{className:"w-4 h-4"})})]})]})]})})}),t.jsx(l.M,{mode:"wait",children:"grid"===e?t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:$.map((e,s)=>t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},whileHover:{y:-5},children:(0,t.jsxs)(_.Zb,{className:"h-full hover-lift group relative overflow-hidden",children:["locked"===e.checkInStatus&&t.jsx("div",{className:"absolute top-4 right-4 z-10",children:t.jsx(v.Z,{className:"w-5 h-5 text-red-500"})}),(0,t.jsxs)(_.Ol,{className:"pb-3",children:[t.jsx("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[L(e.type),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[t.jsx(_.ll,{className:"text-base truncate group-hover:text-engineering-blue transition-colors",children:e.name}),(0,t.jsxs)(_.SZ,{className:"text-sm",children:["v",e.version," • ",Y(e.size)]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(P.E,{status:e.status,size:"sm"}),(0,t.jsxs)(S.C,{variant:"outline",className:"text-xs flex items-center gap-1",children:[R(e.scanStatus),e.scanStatus]})]})]}),(0,t.jsxs)(_.aY,{className:"space-y-4",children:[e.previewUrl&&(0,t.jsxs)("div",{className:"aspect-video bg-gray-100 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors flex items-center justify-center",onClick:()=>T(e.id),children:[t.jsx(w.Z,{className:"w-8 h-8 text-gray-400"}),t.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"プレビュー"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-xs text-gray-600",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"プロジェクト:"}),t.jsx("span",{className:"font-medium truncate ml-2",children:e.project})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"アップロード:"}),t.jsx("span",{children:e.uploadedBy})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"最終更新:"}),t.jsx("span",{children:new Date(e.uploadedAt).toLocaleDateString("ja-JP")})]}),e.checkOutBy&&(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"チェックアウト:"}),t.jsx("span",{className:"text-orange-600 font-medium",children:e.checkOutBy})]})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>t.jsx(S.C,{variant:"outline",className:"text-xs",children:e},e))}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[t.jsx(k,{className:"w-3 h-3 mr-1"}),e.downloadCount," DL"]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[t.jsx(M.z,{variant:"outline",size:"sm",onClick:()=>T(e.id),className:"group/btn",children:t.jsx(w.Z,{className:"w-4 h-4 group-hover/btn:text-engineering-blue"})}),t.jsx(M.z,{variant:"outline",size:"sm",disabled:!e.permissions.canDownload,className:"group/btn",children:t.jsx(Z.Z,{className:"w-4 h-4 group-hover/btn:text-engineering-blue"})}),t.jsx(M.z,{variant:"outline",size:"sm",onClick:()=>O(e.id),className:"group/btn",children:t.jsx(C.Z,{className:"w-4 h-4 group-hover/btn:text-engineering-blue"})})]})]})]}),"final"===e.status&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-engineering-blue/5 to-engineering-green/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg pointer-events-none"})]})},e.id))},"grid"):t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:$.map((e,s)=>t.jsx(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:t.jsx(_.Zb,{className:"hover-lift",children:t.jsx(_.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[L(e.type),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["v",e.version," • ",Y(e.size)," • ",e.project]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(P.E,{status:e.status,size:"sm"}),R(e.scanStatus),"locked"===e.checkInStatus&&t.jsx(v.Z,{className:"w-4 h-4 text-red-500"})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[t.jsx(M.z,{variant:"outline",size:"sm",onClick:()=>T(e.id),children:t.jsx(w.Z,{className:"w-4 h-4"})}),t.jsx(M.z,{variant:"outline",size:"sm",disabled:!e.permissions.canDownload,children:t.jsx(Z.Z,{className:"w-4 h-4"})}),t.jsx(M.z,{variant:"outline",size:"sm",onClick:()=>O(e.id),children:t.jsx(C.Z,{className:"w-4 h-4"})})]})]})})})},e.id))},"list")})]})]}),t.jsx(B,{isOpen:E,onClose:()=>q(!1)}),A&&t.jsx(V,{fileId:A,onClose:()=>T(null)}),I&&t.jsx(X,{fileId:I,onClose:()=>O(null)})]})}W.displayName="Switch"},26298:(e,s,a)=>{"use strict";a.d(s,{E:()=>f});var t=a(95344),i=a(3729);a(81202);var r=a(45877),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let a=(0,r.Z8)(`Primitive.${s}`),l=i.forwardRef((e,i)=>{let{asChild:r,...l}=e,n=r?a:s;return(0,t.jsx)(n,{...l,ref:i})});return l.displayName=`Primitive.${s}`,{...e,[s]:l}},{}),n="Progress",[c,d]=function(e,s=[]){let a=[],r=()=>{let s=a.map(e=>i.createContext(e));return function(a){let t=a?.[e]||s;return i.useMemo(()=>({[`__scope${e}`]:{...a,[e]:t}}),[a,t])}};return r.scopeName=e,[function(s,r){let l=i.createContext(r),n=a.length;a=[...a,r];let c=s=>{let{scope:a,children:r,...c}=s,d=a?.[e]?.[n]||l,x=i.useMemo(()=>c,Object.values(c));return(0,t.jsx)(d.Provider,{value:x,children:r})};return c.displayName=s+"Provider",[c,function(a,t){let c=t?.[e]?.[n]||l,d=i.useContext(c);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=a.reduce((s,{useScope:a,scopeName:t})=>{let i=a(e)[`__scope${t}`];return{...s,...i}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:t}),[t])}};return a.scopeName=s.scopeName,a}(r,...s)]}(n),[x,o]=c(n),m=i.forwardRef((e,s)=>{var a,i;let{__scopeProgress:r,value:n=null,max:c,getValueLabel:d=u,...o}=e;(c||0===c)&&!v(c)&&console.error((a=`${c}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=v(c)?c:100;null===n||y(n,m)||console.error((i=`${n}`,`Invalid prop \`value\` of value \`${i}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let h=y(n,m)?n:null,p=g(h)?d(h,m):void 0;return(0,t.jsx)(x,{scope:r,value:h,max:m,children:(0,t.jsx)(l.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":j(h,m),"data-value":h??void 0,"data-max":m,...o,ref:s})})});m.displayName=n;var h="ProgressIndicator",p=i.forwardRef((e,s)=>{let{__scopeProgress:a,...i}=e,r=o(h,a);return(0,t.jsx)(l.div,{"data-state":j(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...i,ref:s})});function u(e,s){return`${Math.round(e/s*100)}%`}function j(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function g(e){return"number"==typeof e}function v(e){return g(e)&&!isNaN(e)&&e>0}function y(e,s){return g(e)&&!isNaN(e)&&e<=s&&e>=0}p.displayName=h;var N=a(11453);let f=i.forwardRef(({className:e,value:s,variant:a="default",...i},r)=>t.jsx(m,{ref:r,className:(0,N.cn)("relative h-2 w-full overflow-hidden rounded-full","default"===a&&"bg-primary/20","engineering"===a&&"bg-engineering-blue/20","gradient"===a&&"bg-gradient-to-r from-engineering-blue/20 to-engineering-green/20",e),...i,children:t.jsx(p,{className:(0,N.cn)("h-full w-full flex-1 transition-all","default"===a&&"bg-primary","engineering"===a&&"bg-engineering-blue","gradient"===a&&"gradient-engineering"),style:{transform:`translateX(-${100-(s||0)}%)`}})}));f.displayName=m.displayName},45136:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var t=a(95344);a(3729);var i=a(57916),r=a(11453);function l({status:e,size:s="md",animated:a=!0,className:l}){return(0,t.jsxs)(i.E.div,{initial:!!a&&{opacity:0,scale:.8},animate:!!a&&{opacity:1,scale:1},transition:{duration:.3},className:(0,r.cn)("inline-flex items-center gap-2 rounded-full font-medium",(0,r.z2)(e),{sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"}[s],l),children:[t.jsx(i.E.div,{className:(0,r.cn)("rounded-full",{sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-2.5 h-2.5"}[s],"in_progress"===e?"status-active":"draft"===e?"status-pending":"status-dot bg-current"),animate:"in_progress"===e?{scale:[1,1.2,1],opacity:[.7,1,.7]}:{},transition:{duration:2,repeat:"in_progress"===e?1/0:0}}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.XO)(e),e.replace("_"," ").toUpperCase()]})]})}},79945:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>r,__esModule:()=>i,default:()=>l});let t=(0,a(86843).createProxy)(String.raw`/Users/sayuri/caddonworks/src/app/files/page.tsx`),{__esModule:i,$$typeof:r}=t,l=t.default}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[1638,4679,3035,7962,5414,5188,1682],()=>a(93138));module.exports=t})();