"use strict";exports.id=1682,exports.ids=[1682],exports.modules={83655:(e,t,a)=>{a.d(t,{W:()=>R});var r=a(95344),s=a(3729),n=a(20783),i=a.n(n),l=a(22254),o=a(57916),c=a(72086),d=a(89895),h=a(50340),g=a(13746),u=a(68219),x=a(35851),m=a(37121),b=a(76755),f=a(98200),p=a(25390),v=a(18822),y=a(48120),j=a(14513),w=a(5094),N=a(19591),k=a(43750),Z=a(18704),C=a(11453),_=a(73644),z=a(46404),A=a(62312),D=a(66138),S=a(33037);function E(){let{user:e}=(0,k.useAuth)(),t=(0,l.useRouter)(),[a,n]=(0,s.useState)([]),[i,c]=(0,s.useState)(0),[d,h]=(0,s.useState)(!1),[g,u]=(0,s.useState)(!1),x=async()=>{if(e)try{u(!0);let{data:{session:e}}=await Z.OQ.auth.getSession();if(!e)return;let t=await fetch("/api/notifications",{headers:{Authorization:`Bearer ${e.access_token}`}});if(t.ok){let e=await t.json();n(e.notifications||[]),c(e.unreadCount||0)}}catch(e){console.error("通知取得エラー:",e)}finally{u(!1)}},f=async t=>{if(e)try{let{data:{session:e}}=await Z.OQ.auth.getSession();if(!e)return;(await fetch("/api/notifications",{method:"PUT",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({notificationId:t,action:"mark_read"})})).ok&&(n(e=>e.map(e=>e.id===t?{...e,read_at:new Date().toISOString()}:e)),c(e=>Math.max(0,e-1)))}catch(e){console.error("通知既読エラー:",e)}},p=e=>{switch(e){case"bid_received":return r.jsx(z.Z,{className:"w-4 h-4 text-blue-600"});case"contract_created":return r.jsx(m.Z,{className:"w-4 h-4 text-green-600"});case"contract_signed":return r.jsx(A.Z,{className:"w-4 h-4 text-green-600"});case"evaluation_received":return r.jsx(b.Z,{className:"w-4 h-4 text-yellow-600"});case"invoice_created":case"invoice":return r.jsx(m.Z,{className:"w-4 h-4 text-purple-600"});default:return r.jsx(D.Z,{className:"w-4 h-4 text-gray-600"})}},v=e=>{let t=new Date(e),a=new Date().getTime()-t.getTime();return a<6e4?"たった今":a<36e5?`${Math.floor(a/6e4)}分前`:a<864e5?`${Math.floor(a/36e5)}時間前`:`${Math.floor(a/864e5)}日前`};if((0,s.useEffect)(()=>{if(e){x();let e=setInterval(x,3e4);return()=>clearInterval(e)}},[e]),!e)return null;let y=e=>{e.read_at||f(e.id),"bid_received"===e.type?e.data?.project_id&&e.data?.bid_id?t.push(`/contracts/create?projectId=${e.data.project_id}&bidId=${e.data.bid_id}`):t.push("/projects"):"contract_created"===e.type?t.push("/contracts"):"contract_signed"===e.type?t.push("/contracts"):"evaluation_received"===e.type?t.push("/evaluations"):("invoice"===e.type||"invoice_created"===e.type)&&t.push("/contracts"),h(!1)};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(w.z,{variant:"ghost",size:"icon",onClick:()=>{h(!d)},className:"relative","data-notification-bell":!0,children:[r.jsx(S.Z,{className:"w-5 h-5"}),i>0&&r.jsx(N.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:i>99?"99+":i})]}),r.jsx(_.M,{children:d&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>h(!1)}),(0,r.jsxs)(o.E.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:"fixed top-1/3 left-1/3 transform -translate-x-1/2 -translate-y-1/2 w-[28rem] max-w-[calc(100vw-2rem)] bg-white rounded-lg shadow-xl border border-gray-200 z-50",style:{maxHeight:"calc(100vh - 4rem)"},children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"通知"}),r.jsx(w.z,{variant:"ghost",size:"icon",onClick:()=>h(!1),className:"h-6 w-6",children:r.jsx(j.Z,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 12rem)"},children:g?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"読み込み中..."}):0===a.length?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"通知はありません"}):a.map(e=>r.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${e.read_at?"":"bg-blue-50"}`,onClick:()=>y(e),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:p(e.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 flex-1 min-w-0",children:r.jsx("span",{className:"truncate block",children:e.title})}),!e.read_at&&r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 break-words",children:e.message.length>100?`${e.message.substring(0,100)}...`:e.message}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:v(e.created_at)})]})]})},e.id))}),a.length>0&&r.jsx("div",{className:"p-3 border-t border-gray-200",children:r.jsx(w.z,{variant:"ghost",size:"sm",className:"w-full text-sm",onClick:()=>{a.forEach(e=>{e.read_at||f(e.id)})},children:"全て既読にする"})})]})]})})]})}let O=(e,t)=>{let a={Admin:[{icon:c.Z,label:"ダッシュボード",href:"/dashboard",badge:null},{icon:d.Z,label:"会員管理",href:"/admin/users",badge:null},{icon:h.Z,label:"統計・レポート",href:"/admin/reports",badge:null},{icon:g.Z,label:"システム設定",href:"/admin/settings",badge:null}],OrgAdmin:[{icon:c.Z,label:"ダッシュボード",href:"/dashboard",badge:null},{icon:u.Z,label:"案件管理",href:"/projects",badge:t.projects||null},{icon:x.Z,label:"チャット",href:"/chat",badge:t.chat||null},{icon:m.Z,label:"契約管理",href:"/contracts",badge:t.contracts||null},{icon:h.Z,label:"会計・請求",href:"/billing",badge:"新"},{icon:d.Z,label:"お気に入り会員",href:"/favorites",badge:null}],Contractor:[{icon:c.Z,label:"ダッシュボード",href:"/dashboard",badge:null},{icon:u.Z,label:"案件一覧",href:"/jobs",badge:t.jobs||null},{icon:x.Z,label:"チャット",href:"/chat",badge:t.chat||null},{icon:b.Z,label:"受注者評価",href:"/evaluations",badge:null},{icon:m.Z,label:"請求書管理",href:"/invoices",badge:null},{icon:m.Z,label:"提出物",href:"/deliverables",badge:t.deliverables||null},{icon:h.Z,label:"報酬・支払",href:"/payouts",badge:null}],Reviewer:[{icon:c.Z,label:"ダッシュボード",href:"/dashboard",badge:null},{icon:u.Z,label:"審査案件",href:"/reviews",badge:t.reviews||null},{icon:x.Z,label:"チャット",href:"/chat",badge:t.chat||null},{icon:m.Z,label:"評価履歴",href:"/evaluations",badge:null}],Auditor:[{icon:c.Z,label:"ダッシュボード",href:"/dashboard",badge:null},{icon:m.Z,label:"監査ログ",href:"/audit-logs",badge:null},{icon:x.Z,label:"チャット",href:"/chat",badge:null},{icon:h.Z,label:"レポート",href:"/reports",badge:null}]};return a[e]||a.Admin};function R({userRole:e}){let{user:t,userProfile:a,userRole:n,userOrganization:c,signOut:d}=(0,k.useAuth)(),{badges:h,loading:u}=function(){let{userRole:e,user:t}=(0,k.useAuth)(),[a,r]=(0,s.useState)({}),[n,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let a=async()=>{if(!t||!e){i(!1);return}try{let{data:{session:t}}=await Z.OQ.auth.getSession();if(!t?.access_token){i(!1);return}let a={Authorization:`Bearer ${t.access_token}`},s={};switch(e){case"OrgAdmin":try{let[e,t,r]=await Promise.all([fetch("/api/projects",{headers:a}),fetch("/api/chat/rooms",{headers:a}),fetch("/api/contracts",{headers:a})]);if(e.ok){let t=await e.json();s.projects=t.projects?.length||0}if(t.ok){let e=await t.json();s.chat=e.rooms?.filter(e=>e.unread_count>0).length||0}if(r.ok){let e=await r.json();s.contracts=e.contracts?.length||0}}catch(e){console.error("OrgAdmin badges fetch error:",e)}break;case"Contractor":try{let[e,t,r]=await Promise.all([fetch("/api/jobs",{headers:a}),fetch("/api/chat/rooms",{headers:a}),fetch("/api/deliverables",{headers:a})]);if(e.ok){let t=await e.json();s.jobs=t.jobs?.length||0}if(t.ok){let e=await t.json();s.chat=e.rooms?.filter(e=>e.unread_count>0).length||0}if(r.ok){let e=await r.json();s.deliverables=e.deliverables?.length||0}}catch(e){console.error("Contractor badges fetch error:",e)}break;case"Reviewer":try{let[e,t]=await Promise.all([fetch("/api/reviews",{headers:a}),fetch("/api/chat/rooms",{headers:a})]);if(e.ok){let t=await e.json();s.reviews=t.reviews?.length||0}if(t.ok){let e=await t.json();s.chat=e.rooms?.filter(e=>e.unread_count>0).length||0}}catch(e){console.error("Reviewer badges fetch error:",e)}}r(s)}catch(e){console.error("Badges fetch error:",e)}finally{i(!1)}};a();let s=setInterval(a,3e4);return()=>clearInterval(s)},[t,e]),{badges:a,loading:n}}(),x=(0,l.useRouter)(),m=(0,l.usePathname)(),[b,_]=(0,s.useState)(!0),[z,A]=(0,s.useState)(!1),[D,S]=(0,s.useState)(null),R=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e=sessionStorage.getItem("currentPage");sessionStorage.setItem("currentPage",m),e&&e!==m&&sessionStorage.setItem("previousPage",e)},[m]),(0,s.useEffect)(()=>{let e=async()=>{if("OrgAdmin"===n&&c?.id&&null===D&&!R.current){R.current=!0;try{let{data:{session:e}}=await Z.OQ.auth.getSession();if(!e?.access_token){console.error("認証トークンが取得できません"),R.current=!1;return}let t=await fetch("/api/organization/profile",{headers:{Authorization:`Bearer ${e.access_token}`}});if(t.ok){let e=await t.json();e.organization&&S(e.organization?.contact_person||null)}else console.error("組織情報API失敗:",t.status),R.current=!1}catch(e){console.error("組織情報の取得に失敗しました:",e),R.current=!1}}};"OrgAdmin"===n&&c?.id&&null===D&&!R.current&&e()},[n,c?.id,D]);let I=O(n||"Admin",h),P=()=>"OrgAdmin"===n?D||a?.display_name||"ユーザー":a?.display_name||"ユーザー";return(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.E.nav,{initial:{x:-250},animate:{x:0},className:(0,C.cn)("hidden md:flex fixed left-0 top-0 h-full bg-white border-r border-gray-200 z-40 transition-all duration-300",b?"w-64":"w-16"),children:(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsxs)(o.E.div,{className:"flex items-center gap-3",animate:{opacity:b?1:0},transition:{duration:.2},children:[r.jsx("div",{className:"w-8 h-8 bg-engineering-blue rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"土"})}),b&&(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"font-bold text-lg text-engineering-blue",children:"土木プラットフォーム"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Civil Engineering"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[b&&r.jsx(E,{}),r.jsx(w.z,{variant:"ghost",size:"icon",onClick:()=>_(!b),className:"shrink-0",children:r.jsx(f.Z,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"flex-1 px-2 py-4 space-y-2",children:I.map((e,t)=>r.jsx(o.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:r.jsx(i(),{href:e.href,children:(0,r.jsxs)("div",{className:(0,C.cn)("flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-engineering-blue/10 transition-colors group relative","hover-lift"),children:[r.jsx(e.icon,{className:"w-5 h-5 text-gray-600 group-hover:text-engineering-blue"}),r.jsx(o.E.span,{className:"text-gray-700 group-hover:text-engineering-blue font-medium",animate:{opacity:b?1:0},transition:{duration:.2},children:b?e.label:""}),e.badge&&b&&("number"!=typeof e.badge||e.badge>0)&&r.jsx(N.C,{variant:"engineering",className:"ml-auto text-xs",children:e.badge}),!b&&r.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:e.label})]})})},e.href))}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)(o.E.div,{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer",animate:{justifyContent:b?"flex-start":"center"},children:[r.jsx("div",{className:"w-8 h-8 bg-engineering-blue rounded-full flex items-center justify-center overflow-hidden",children:a?.avatar_url?r.jsx("img",{src:a.avatar_url,alt:P(),className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-white text-sm font-medium",children:P().charAt(0)||t?.email?.charAt(0)||"U"})}),r.jsx(o.E.div,{animate:{opacity:b?1:0},transition:{duration:.2},className:"flex-1",children:b&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:P()}),r.jsx("p",{className:"text-xs text-gray-500",children:n}),c&&r.jsx("p",{className:"text-xs text-gray-400 truncate",children:c.name})]})}),b&&r.jsx(p.Z,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]}),b&&(0,r.jsxs)("div",{className:"absolute bottom-full left-0 right-0 mb-2 opacity-0 group-hover:opacity-100 transition-opacity bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[r.jsx(i(),{href:"/profile",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[r.jsx(v.Z,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"プロフィール"})]})}),r.jsx(i(),{href:"/settings",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors",children:[r.jsx(g.Z,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm text-gray-700",children:"設定"})]})}),r.jsx("hr",{className:"my-2"}),(0,r.jsxs)("button",{onClick:async()=>{await d(),x.push("/")},className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-red-600",children:[r.jsx(y.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"ログアウト"})]})]}),!b&&r.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",children:(0,r.jsxs)("div",{children:[r.jsx("div",{children:P()}),r.jsx("div",{className:"text-gray-300",children:n}),c&&r.jsx("div",{className:"text-gray-400",children:c.name})]})})]})})]})}),r.jsx(w.z,{variant:"ghost",size:"icon",className:"md:hidden fixed top-4 left-4 z-50",onClick:()=>A(!0),children:r.jsx(f.Z,{className:"w-5 h-5"})}),z&&r.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"md:hidden fixed inset-0 bg-black/50 z-50",onClick:()=>A(!1),children:(0,r.jsxs)(o.E.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},className:"w-64 h-full bg-white",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-engineering-blue rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"土"})}),r.jsx("h1",{className:"font-bold text-lg text-engineering-blue",children:"土木プラットフォーム"})]}),r.jsx(w.z,{variant:"ghost",size:"icon",onClick:()=>A(!1),children:r.jsx(j.Z,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"p-4 space-y-2",children:I.map(e=>r.jsx(i(),{href:e.href,onClick:()=>A(!1),children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-3 rounded-lg hover:bg-engineering-blue/10 transition-colors",children:[r.jsx(e.icon,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"text-gray-700 font-medium",children:e.label}),e.badge&&("number"!=typeof e.badge||e.badge>0)&&r.jsx(N.C,{variant:"engineering",className:"ml-auto text-xs",children:e.badge})]})},e.href))})]})})]})}},19591:(e,t,a)=>{a.d(t,{C:()=>l});var r=a(95344);a(3729);var s=a(49247),n=a(11453);let i=(0,s.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white shadow hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600",info:"border-transparent bg-blue-500 text-white shadow hover:bg-blue-600",engineering:"border-engineering-blue bg-engineering-blue/10 text-engineering-blue",glass:"glass text-gray-700 border-white/30"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return r.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...a})}},5094:(e,t,a)=>{a.d(t,{z:()=>c});var r=a(95344),s=a(3729),n=a(45877),i=a(49247),l=a(11453);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",engineering:"bg-engineering-blue text-white shadow-lg hover:bg-engineering-blue-dark hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",gradient:"gradient-engineering text-white shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",glass:"glass text-gray-900 hover:bg-white/20 border-white/30"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:t,size:a,asChild:s=!1,...i},c)=>{let d=s?n.g7:"button";return r.jsx(d,{className:(0,l.cn)(o({variant:t,size:a,className:e})),ref:c,...i})});c.displayName="Button"},23673:(e,t,a)=>{a.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,ll:()=>o});var r=a(95344),s=a(3729),n=a(11453);let i=s.forwardRef(({className:e,variant:t="default",...a},s)=>r.jsx("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow-sm","glass"===t&&"glass backdrop-blur-md","gradient"===t&&"gradient-engineering text-white border-0","engineering"===t&&"border-engineering-blue/20 bg-gradient-to-br from-white to-engineering-blue/5 hover-lift",e),...a}));i.displayName="Card";let l=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},11453:(e,t,a)=>{a.d(t,{XO:()=>o,cn:()=>n,xG:()=>i,z2:()=>l});var r=a(56815),s=a(79377);function n(...e){return(0,s.m6)((0,r.W)(e))}function i(e){return new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY"}).format(e)}function l(e){return({draft:"bg-gray-100 text-gray-800",bidding:"bg-blue-100 text-blue-800",contracted:"bg-green-100 text-green-800",in_progress:"bg-yellow-100 text-yellow-800",submitted:"bg-purple-100 text-purple-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}function o(e){return({draft:"\uD83D\uDCDD",bidding:"\uD83C\uDFD7️",contracted:"✅",in_progress:"⚡",submitted:"\uD83D\uDCCB",completed:"\uD83C\uDF89",cancelled:"❌"})[e]||"\uD83D\uDCC4"}}};