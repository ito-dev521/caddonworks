(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{9883:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82549:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35917:function(e,s,a){Promise.resolve().then(a.bind(a,9971))},9971:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return C}});var i=a(57437),t=a(2265),l=a(65251),r=a(24033),n=a(61396),c=a.n(n),d=a(1295),o=a(67972),m=a(5589),x=a(77216),u=a(99670),g=a(22812),p=a(9883),h=a(82549),b=a(11981),f=a(13008),y=a(86264),j=a(68291),N=a(575),v=a(15671),w=a(33277),k=a(49430),Z=a(66210);function C(){let[e,s]=(0,t.useState)({email:"",password:"",confirmPassword:"",displayName:"",organization:"",specialties:[],qualifications:[],experienceYears:""}),[a,n]=(0,t.useState)(!1),[C,q]=(0,t.useState)(null),[S,E]=(0,t.useState)(null),[_,P]=(0,t.useState)(!1),[z,Y]=(0,t.useState)(1),{signUp:F}=(0,Z.useAuth)(),M=(0,r.useRouter)(),O=(e,a)=>{s(s=>({...s,[e]:a}))},A=a=>{e.specialties.includes(a)||s(e=>({...e,specialties:[...e.specialties,a]}))},D=e=>{s(s=>({...s,specialties:s.specialties.filter(s=>s!==e)}))},I=a=>{e.qualifications.includes(a)||s(e=>({...e,qualifications:[...e.qualifications,a]}))},R=e=>{s(s=>({...s,qualifications:s.qualifications.filter(s=>s!==e)}))},T=()=>e.email&&e.password&&e.confirmPassword&&e.displayName?e.password!==e.confirmPassword?(q("パスワードが一致しません"),!1):e.password.length<6?(q("パスワードは6文字以上で入力してください"),!1):(q(null),!0):(q("必須項目を入力してください"),!1),X=async s=>{if(s.preventDefault(),1===z){T()&&Y(2);return}q(null),E(null),P(!0);try{await F(e.email,e.password,{display_name:e.displayName,specialties:e.specialties,qualifications:e.qualifications,experience_years:e.experienceYears||void 0}),E("アカウントを作成しました。確認メールをご確認ください。"),setTimeout(()=>{M.push("/auth/login")},3e3)}catch(e){q(e.message||"アカウント作成に失敗しました")}finally{P(!1)}};return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-mesh flex items-center justify-center p-4",children:(0,i.jsx)("div",{className:"w-full max-w-4xl",children:(0,i.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,i.jsxs)(v.Zb,{className:"hover-lift",children:[(0,i.jsxs)(v.Ol,{className:"text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-engineering-blue rounded-lg flex items-center justify-center mx-auto mb-4",children:(0,i.jsx)("span",{className:"text-white font-bold text-xl",children:"土"})}),(0,i.jsx)(v.ll,{className:"text-2xl font-bold text-gray-900",children:"アカウント作成"}),(0,i.jsx)(v.SZ,{children:"土木設計業務プラットフォームへようこそ"})]}),(0,i.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(z>=1?"bg-engineering-blue text-white":"bg-gray-200 text-gray-600"),children:"1"}),(0,i.jsx)("div",{className:"ml-3",children:(0,i.jsx)("p",{className:"text-sm font-medium ".concat(z>=1?"text-gray-900":"text-gray-500"),children:"基本情報"})})]}),(0,i.jsx)("div",{className:"w-12 h-0.5 mx-4 ".concat(z>=2?"bg-engineering-blue":"bg-gray-200")}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(z>=2?"bg-engineering-blue text-white":"bg-gray-200 text-gray-600"),children:"2"}),(0,i.jsx)("div",{className:"ml-3",children:(0,i.jsx)("p",{className:"text-sm font-medium ".concat(z>=2?"text-gray-900":"text-gray-500"),children:"専門情報"})})]})]})}),(0,i.jsx)(v.aY,{className:"p-8",children:(0,i.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[1===z&&(0,i.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス *"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,i.jsx)("input",{type:"email",value:e.email,onChange:e=>O("email",e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",placeholder:"example@company.com",required:!0})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"表示名 *"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,i.jsx)("input",{type:"text",value:e.displayName,onChange:e=>O("displayName",e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",placeholder:"田中 太郎",required:!0})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsx)(k.Z,{value:e.password,onChange:e=>O("password",e),label:"パスワード *",placeholder:"••••••••",required:!0,showStrengthIndicator:!0}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"パスワード確認 *"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,i.jsx)("input",{type:a?"text":"password",value:e.confirmPassword,onChange:e=>O("confirmPassword",e.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",placeholder:"••••••••",required:!0}),(0,i.jsx)("button",{type:"button",onClick:()=>n(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?(0,i.jsx)(x.Z,{className:"w-5 h-5"}):(0,i.jsx)(u.Z,{className:"w-5 h-5"})})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"屋号及び所属組織"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,i.jsx)("input",{type:"text",value:e.organization,onChange:e=>O("organization",e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",placeholder:"株式会社 土木設計"})]})]})]}),2===z&&(0,i.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"専門分野"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:["未経験","道路設計","橋梁設計","河川工事","上下水道設計","トンネル設計","地下構造","構造物点検","測量業務","地質調査","環境評価","施工管理"].map(e=>(0,i.jsxs)("button",{type:"button",onClick:()=>A(e),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg hover:border-engineering-blue hover:bg-engineering-blue/5 transition-colors",children:[(0,i.jsx)(p.Z,{className:"w-3 h-3 inline mr-1"}),e]},e))}),e.specialties.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:e.specialties.map(e=>(0,i.jsxs)(w.C,{variant:"engineering",className:"cursor-pointer",onClick:()=>D(e),children:[e,(0,i.jsx)(h.Z,{className:"w-3 h-3 ml-1"})]},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"資格・免許"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:["技術士（建設部門）","技術士（上下水道部門）","技術士（その他）","技術士補","一級建築士","測量士","土木施工管理技士","管工事施工管理技士","造園施工管理技士","土地家屋調査士"].map(e=>(0,i.jsxs)("button",{type:"button",onClick:()=>I(e),className:"px-3 py-2 text-sm border border-gray-200 rounded-lg hover:border-engineering-blue hover:bg-engineering-blue/5 transition-colors text-left",children:[(0,i.jsx)(p.Z,{className:"w-3 h-3 inline mr-1"}),e]},e))}),e.qualifications.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:e.qualifications.map(e=>(0,i.jsxs)(w.C,{variant:"success",className:"cursor-pointer",onClick:()=>R(e),children:[e,(0,i.jsx)(h.Z,{className:"w-3 h-3 ml-1"})]},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["経験年数 ",e.specialties.some(e=>"未経験"!==e)&&"*"]}),(0,i.jsx)("input",{type:"number",min:"0",max:"50",value:e.experienceYears,onChange:e=>O("experienceYears",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-engineering-blue focus:border-transparent",placeholder:"5",required:e.specialties.some(e=>"未経験"!==e)}),e.specialties.some(e=>"未経験"!==e)&&(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"未経験以外の専門分野を選択した場合は必須です"})]})]}),C&&(0,i.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[(0,i.jsx)(b.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{className:"text-sm",children:C})]}),S&&(0,i.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[(0,i.jsx)(f.Z,{className:"w-4 h-4"}),(0,i.jsx)("span",{className:"text-sm",children:S})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[2===z&&(0,i.jsx)(N.z,{type:"button",variant:"outline",onClick:()=>Y(1),children:"戻る"}),(0,i.jsx)("div",{className:"ml-auto",children:(0,i.jsx)(N.z,{type:"submit",variant:"engineering",size:"lg",disabled:_,children:_?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"作成中..."]}):1===z?(0,i.jsxs)(i.Fragment,{children:["次へ",(0,i.jsx)(j.Z,{className:"w-4 h-4 ml-2"})]}):(0,i.jsxs)(i.Fragment,{children:["アカウント作成",(0,i.jsx)(f.Z,{className:"w-4 h-4 ml-2"})]})})})]}),(0,i.jsxs)("div",{className:"text-center text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"すでにアカウントをお持ちですか？"}),(0,i.jsx)(c(),{href:"/auth/login",className:"text-engineering-blue hover:underline ml-1",children:"ログイン"})]})]})})]})})})})}}},function(e){e.O(0,[14,402,440,250,97,980,971,938,744],function(){return e(e.s=35917)}),_N_E=e.O()}]);